{"version":3,"file":"library.js","sources":["../src/library.js"],"sourcesContent":["console.log('library');\n\n////// Class\n//  import { ToRender } from './js/class';\n// import { ToRender } from './js/class';\n//  console.log(ToRender);\nimport { footerScaleJS }    from './js/footer';\nimport { renderLayout } from './js/render';\nconsole.log(renderLayout);\nconst render02 = renderLayout;\nconsole.log(render02);\nimport  noImg  from './img/no_img02.png';\n\nconst ulLibrary = document.querySelector('ul.ul_library');\nconst forModalLib = document.querySelector('.for_modal_lib');\nconsole.log(forModalLib);\nconsole.log(ulLibrary);\n\n\n\nconst kitWatched = JSON.parse(localStorage.getItem(\"watched\"));\n\nconsole.log(kitWatched);\n// const toRender = new ToRender({\n//     arr: kitWatched,\n//     noImg: noImg,\n//  });\n\n// toRender.renderLayout();\n  //  render02(kitWatched, ulLibrary, forModalLib);\n  \n\nfunction renderLayoutLib(arr, ulContainer, modalBox){\n     const ren = arr.map(({poster_path, id, title, release_date}, idx) =>{\n     let imgMainPath = `<img class=\"img_of_card\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\">`    \n     if(!poster_path){\n         imgMainPath = `<img class=\"img_of_card\" src=${noImg} alt=\"No image\">`\n     }\n                                                     return `\n                                                         <li class=\"card\" id=${id}>\n                                                             ${imgMainPath}\n     <div class=\"card_box\">\n         <h1 class=\"card_title\">${title}</h1>\n         <h2 class=\"card_jenre\">Drama, Comedy | ${Number.parseInt(release_date)||'No date'}</h2>\n     </div>\n                                                         </li>                                              \n                                                         `\n }).join('');\n\n     ulContainer.innerHTML = ren;\n\n     ulContainer.addEventListener('click', modalShow);\n                                     function modalShow(evt){\n                                         window.addEventListener('keydown', (evt)=>{\n                                         if(evt.code === 'Escape'){\n                                         toCloseModal(modalBox);\n                                         }\n                                     });\n    const nestedElem = evt.target;\n    const upperLi = nestedElem.closest('.card');\n //    console.log(upperLi);\n    const selectIDbyClick = Number(upperLi.getAttribute('id'));\n    toShowModalWin(selectIDbyClick, modalBox);\n }\n }\n\n\nrenderLayoutLib(kitWatched, ulLibrary, forModalLib);\n\n// const arrInLib = kitWatched.map(({id, poster_path, title, release_date})=>{\n//     let imgMainPath = `<img class=\"img_of_card\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\">`\n//      return `\n//                                                          <li class=\"card\" id=${id}>\n//                                                              ${imgMainPath}\n//      <div class=\"card_box\">\n//          <h1 class=\"card_title\">${title}</h1>\n//          <h2 class=\"card_jenre\">Drama, Comedy | ${Number.parseInt(release_date)||'No date'}</h2>\n//      </div>\n//                                                          </li>                                              \n//                                                          `\n    \n// });\n\n// ulLibrary.innerHTML = arrInLib;\n// ulLibrary.insertAdjacentElement('beforeend', arrInLib);"],"names":["renderLayout","render02","ulLibrary","forModalLib","kitWatched","renderLayoutLib","arr","ulContainer","modalBox","ren","poster_path","id","title","release_date","idx","imgMainPath","noImg","modalShow","evt","upperLi","selectIDbyClick"],"mappings":"uDAAA,QAAQ,IAAI,SAAS,EAQrB,QAAQ,IAAIA,CAAY,EACxB,MAAMC,EAAWD,EACjB,QAAQ,IAAIC,CAAQ,EAGpB,MAAMC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAc,SAAS,cAAc,gBAAgB,EAC3D,QAAQ,IAAIA,CAAW,EACvB,QAAQ,IAAID,CAAS,EAIrB,MAAME,EAAa,KAAK,MAAM,aAAa,QAAQ,SAAS,CAAC,EAE7D,QAAQ,IAAIA,CAAU,EAUtB,SAASC,EAAgBC,EAAKC,EAAaC,EAAS,CAC/C,MAAMC,EAAMH,EAAI,IAAI,CAAC,CAAC,YAAAI,EAAa,GAAAC,EAAI,MAAAC,EAAO,aAAAC,CAAY,EAAGC,IAAO,CACpE,IAAIC,EAAc,gEAAgEL,CAAW,UAAUE,CAAK,KAC5G,OAAIF,IACAK,EAAc,gCAAgCC,CAAK,oBAEA;AAAA,+EACmBL,CAAE;AAAA,+DAClBI,CAAW;AAAA;AAAA,kCAExCH,CAAK;AAAA,kDACW,OAAO,SAASC,CAAY,GAAG,SAAS;AAAA;AAAA;AAAA,0DAIzF,CAAC,EAAE,KAAK,EAAE,EAENN,EAAY,UAAYE,EAExBF,EAAY,iBAAiB,QAASU,CAAS,EACf,SAASA,EAAUC,EAAI,CACnB,OAAO,iBAAiB,UAAYA,GAAM,CACvCA,EAAI,OAAS,UAChB,aAAaV,CAAQ,CAEzB,CAAC,EAElC,MAAMW,EADaD,EAAI,OACI,QAAQ,OAAO,EAEpCE,EAAkB,OAAOD,EAAQ,aAAa,IAAI,CAAC,EACzD,eAAeC,EAAiBZ,CAAQ,CAC3C,CACA,CAGDH,EAAgBD,EAAYF,EAAWC,CAAW"}