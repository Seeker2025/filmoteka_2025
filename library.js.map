{"version":3,"file":"library.js","sources":["../src/library.js"],"sourcesContent":["console.log('library');\n\n////// Class\n//  import { ToRender } from './js/class';\n// import { ToRender } from './js/class';\n//  console.log(ToRender);\nimport { footerScaleJS }    from './js/footer';\nimport { renderLayout } from './js/render';\nimport { modalMarkup, toForButtonCross } from './js/modal_markup';\nimport { toForFind } from './js/toForFind';\nimport { toWatch, toQueue } from './js/toFun';\nconsole.log(renderLayout);\n// const render02 = renderLayout;\n// console.log(render02);\n// import  noImg  from './img/no_img02.png';\n\nconst ulLibrary = document.querySelector('ul.ul_library');\nconst forModalLib = document.querySelector('.for_modal_lib');\nconsole.log(forModalLib);\nconsole.log(ulLibrary);\n\n\nconst kitWatched = JSON.parse(localStorage.getItem('watched')) ?? [];\n\n\n//  renderLayout(kitWatched, ulLibrary, forModalLib);\n\n renderLayout(kitWatched, ulLibrary);\n            ulLibrary.addEventListener('click', (evt)=>{\n               evt.preventDefault();\n            if(evt.target.closest('.card_js')){\n               \n                const oneObj = toForFind(evt.target);\n                modalMarkup(oneObj, forModalLib);\n\n                const btnAddToWatch = document.querySelector('button.arange_button');     \n                const btnAddToQueue = document.querySelector('button.white_button'); \n                        console.log(btnAddToWatch);\n                        console.log(btnAddToQueue);\n                          \n                \n                        btnAddToWatch.addEventListener('click', (evt)=>{\n                                                 toWatch(oneObj);\n                         const kit = JSON.parse(localStorage.getItem('watched')) ?? [];\n                         renderLayout(kit, ulLibrary);                         \n                                                 evt.stopPropagation();\n                                                 });\n                        \n                        btnAddToQueue.addEventListener('click', (evt)=>{\n                                                 toQueue(oneObj);\n                                                 evt.stopPropagation();\n                                                 });\n                                \n                \n                           \n                toForButtonCross(forModalLib);\n               \n\n            }\n        })\n\n//  const btnWatchedLib = document.querySelector('.button_watched_js');\n//  const btnQueueLib = document.querySelector('.button_queue_js');\n//  console.log(btnWatchedLib);\n//  console.log(btnQueueLib);\n\n// btnQueueLib.addEventListener('click', pageQueue);\n\n//  function pageQueue(){\n//           renderLayout(kitQueued, ulLibrary, forModalLib);\n//  }\n\n// btnWatchedLib.addEventListener('click', pageWatched);\n\n//  function pageWatched(){\n//           renderLayout(kitWatched, ulLibrary, forModalLib);\n\n//  }\n\n// console.log(kitWatched);\n// const toRender = new ToRender({\n//     arr: kitWatched,\n//     noImg: noImg,\n//  });\n\n// toRender.renderLayout();\n  //  render02(kitWatched, ulLibrary, forModalLib);\n  \n\n// function renderLayoutLib(arr, ulContainer, modalBox){\n//      const ren = arr.map(({poster_path, id, title, release_date}, idx) =>{\n//      let imgMainPath = `<img class=\"img_of_card\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\">`    \n//      if(!poster_path){\n//          imgMainPath = `<img class=\"img_of_card\" src=${noImg} alt=\"No image\">`\n//      }\n//                                                      return `\n//                                                          <li class=\"card\" id=${id}>\n//                                                              ${imgMainPath}\n//      <div class=\"card_box\">\n//          <h1 class=\"card_title\">${title}</h1>\n//          <h2 class=\"card_jenre\">Drama, Comedy | ${Number.parseInt(release_date)||'No date'}</h2>\n//      </div>\n//                                                          </li>                                              \n//                                                          `\n//  }).join('');\n\n//      ulContainer.innerHTML = ren;\n\n//      ulContainer.addEventListener('click', modalShow);\n//                                      function modalShow(evt){\n//                                          window.addEventListener('keydown', (evt)=>{\n//                                          if(evt.code === 'Escape'){\n//                                          toCloseModal(modalBox);\n//                                          }\n//                                      });\n//     const nestedElem = evt.target;\n//     const upperLi = nestedElem.closest('.card');\n//  //    console.log(upperLi);\n//     const selectIDbyClick = Number(upperLi.getAttribute('id'));\n//     toShowModalWin(selectIDbyClick, modalBox);\n//  }\n//  }\n\n\n\n\n"],"names":["renderLayout","ulLibrary","forModalLib","kitWatched","evt","oneObj","toForFind","modalMarkup","btnAddToWatch","btnAddToQueue","toWatch","kit","toQueue","toForButtonCross"],"mappings":"+HAAA,QAAQ,IAAI,SAAS,EAWrB,QAAQ,IAAIA,CAAY,EAKxB,MAAMC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAc,SAAS,cAAc,gBAAgB,EAC3D,QAAQ,IAAIA,CAAW,EACvB,QAAQ,IAAID,CAAS,EAGrB,MAAME,EAAa,KAAK,MAAM,aAAa,QAAQ,SAAS,CAAC,GAAK,CAAA,EAKjEH,EAAaG,EAAYF,CAAS,EACvBA,EAAU,iBAAiB,QAAUG,GAAM,CAE3C,GADGA,EAAI,eAAc,EAClBA,EAAI,OAAO,QAAQ,UAAU,EAAE,CAE9B,MAAMC,EAASC,EAAUF,EAAI,MAAM,EACnCG,EAAYF,EAAQH,CAAW,EAE/B,MAAMM,EAAgB,SAAS,cAAc,sBAAsB,EAC7DC,EAAgB,SAAS,cAAc,qBAAqB,EAC1D,QAAQ,IAAID,CAAa,EACzB,QAAQ,IAAIC,CAAa,EAGzBD,EAAc,iBAAiB,QAAUJ,GAAM,CACtBM,EAAQL,CAAM,EACtC,MAAMM,EAAM,KAAK,MAAM,aAAa,QAAQ,SAAS,CAAC,GAAK,CAAA,EAC3DX,EAAaW,EAAKV,CAAS,EACHG,EAAI,gBAAe,CACnB,CAAC,EAE1BK,EAAc,iBAAiB,QAAUL,GAAM,CACtBQ,EAAQP,CAAM,EACdD,EAAI,gBAAe,CACnB,CAAC,EAIlCS,EAAiBX,CAAW,CAGhC,CACJ,CAAC"}