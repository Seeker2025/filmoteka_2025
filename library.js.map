{"version":3,"file":"library.js","sources":["../src/library.js"],"sourcesContent":["console.log('library');\nimport    Pagination            from  'tui-pagination'; \nimport {  options,\n          container\n }                              from './js/pagination.js';\n\n////// Class\n//  import { ToRender } from './js/class';\n// import { ToRender } from './js/class';\n//  console.log(ToRender);\nimport { footerScaleJS }    from './js/footer';\nimport { renderLayout } from './js/render';\nimport { modalMarkup, toForButtonCross } from './js/modal_markup';\nimport { toForFind } from './js/toForFind';\nimport { toWatch, toQueue } from './js/toFun';\n// console.log(renderLayout);\n\n            const pageLibrary = document.getElementById('library');\n            if(pageLibrary){\n               const btnWatched = document.querySelector('a.button_watched_js');\n               btnWatched.classList.add('other_color');\n            }\n\n\nconst key = 'watched';\nconst ulLibrary = document.querySelector('ul.ul_library');\nconst forModalLib = document.querySelector('.for_modal_lib');\n\nconst kitWatched = JSON.parse(localStorage.getItem('watched')) ?? [];\n\nfunction too(  onePage=1){\n   renderLayout(kitWatched, ulLibrary);\n\n   const total_pages = Math.ceil(kitWatched.length/20);\n// console.log(pages);\n\n// let onePage = 1;\nlet totalPages = total_pages;\n\nif (onePage < totalPages) {\n        options.totalItems = totalPages;\n        options.page = onePage;\n        const pagination = new Pagination(container, options);\n        pagination.on('afterMove', function (event) {\n        onePage = event.page;\n       too(onePage);\n    });\n    }\n};\n\ntoo();\n \n\n\n\n\n\n            ulLibrary.addEventListener('click', (evt)=>{\n               evt.preventDefault();\n            if(evt.target.closest('.card_js')){\n               \n                const oneObj = toForFind(evt.target, key);\n                if(!oneObj) return;\n                \n                modalMarkup(oneObj, forModalLib);\n\n                const btnAddToWatch = document.querySelector('button.arange_button');     \n                const btnAddToQueue = document.querySelector('button.white_button'); \n                   \n                     btnAddToWatch.addEventListener('click', (evt)=>{\n                                                 toWatch(oneObj);\n                        const kit = JSON.parse(localStorage.getItem('watched')) ?? [];\n                        renderLayout(kit, ulLibrary);                         \n                                                 evt.stopPropagation();\n                                                 });\n                        \n                     btnAddToQueue.addEventListener('click', (evt)=>{\n                                                 toQueue(oneObj);\n                                                 evt.stopPropagation();\n                                                 });\n                                \n                toForButtonCross(forModalLib, btnAddToWatch, btnAddToQueue);\n               \n\n            }\n        })\nconsole.log(kitWatched.length/20);\n// const total_pages = Math.ceil(kitWatched.length/20);\n// console.log(pages);\n\n// let onePage = 1;\n// let totalPages = total_pages;\n\n// if (onePage < totalPages) {\n//         options.totalItems = totalPages;\n//         options.page = onePage;\n//         const pagination = new Pagination(container, options);\n//         pagination.on('afterMove', function (event) {\n//         onePage = event.page;\n//         getAPIdata(main, part,  whatLookingFor, onePage);\n//     });\n//     }\n\n\n\n\n  \n\n\n\n\n\n\n"],"names":["pageLibrary","key","ulLibrary","forModalLib","kitWatched","too","onePage","renderLayout","totalPages","options","Pagination","container","event","evt","oneObj","toForFind","modalMarkup","btnAddToWatch","btnAddToQueue","toWatch","kit","toQueue","toForButtonCross"],"mappings":"mLAAA,QAAQ,IAAI,SAAS,EAiBT,MAAMA,EAAc,SAAS,eAAe,SAAS,EAClDA,GACmB,SAAS,cAAc,qBAAqB,EACpD,UAAU,IAAI,aAAa,EAIrD,MAAMC,EAAM,UACNC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAc,SAAS,cAAc,gBAAgB,EAErDC,EAAa,KAAK,MAAM,aAAa,QAAQ,SAAS,CAAC,GAAK,CAAA,EAElE,SAASC,EAAMC,EAAQ,EAAE,CACtBC,EAAaH,EAAYF,CAAS,EAMrC,IAAIM,EAJmB,KAAK,KAAKJ,EAAW,OAAO,EAAE,EAMjDE,EAAUE,IACNC,EAAQ,WAAaD,EACrBC,EAAQ,KAAOH,EACI,IAAII,EAAWC,EAAWF,CAAO,EACzC,GAAG,YAAa,SAAUG,EAAO,CAC5CN,EAAUM,EAAM,KACjBP,EAAIC,CAAO,CACd,CAAC,EAEL,CAEAD,EAAG,EAOSH,EAAU,iBAAiB,QAAUW,GAAM,CAE3C,GADGA,EAAI,eAAc,EAClBA,EAAI,OAAO,QAAQ,UAAU,EAAE,CAE9B,MAAMC,EAASC,EAAUF,EAAI,OAAQZ,CAAG,EACxC,GAAG,CAACa,EAAQ,OAEZE,EAAYF,EAAQX,CAAW,EAE/B,MAAMc,EAAgB,SAAS,cAAc,sBAAsB,EAC7DC,EAAgB,SAAS,cAAc,qBAAqB,EAE7DD,EAAc,iBAAiB,QAAUJ,GAAM,CACnBM,EAAQL,CAAM,EACvC,MAAMM,EAAM,KAAK,MAAM,aAAa,QAAQ,SAAS,CAAC,GAAK,CAAA,EAC3Db,EAAaa,EAAKlB,CAAS,EACFW,EAAI,gBAAe,CACnB,CAAC,EAE7BK,EAAc,iBAAiB,QAAUL,GAAM,CACnBQ,EAAQP,CAAM,EACdD,EAAI,gBAAe,CACnB,CAAC,EAElCS,EAAiBnB,EAAac,EAAeC,CAAa,CAG9D,CACJ,CAAC,EACT,QAAQ,IAAId,EAAW,OAAO,EAAE"}