{"version":3,"file":"library.js","sources":["../src/library.js"],"sourcesContent":["console.log('library');\n\nimport      Pagination                  from  'tui-pagination'; \nimport {    options,\n            container\n                                }       from './js/pagination.js';\nimport {    toChangeTxtOnBtn    }       from './js/toChangeText.js';\nimport {    toSwitchToDarkUI    }       from './js/switch';\nimport {    toSwitchUIforLiCard }       from './js/switch.js';\nimport {    footerScaleJS       }       from './js/footer';\nimport {    renderLayout        }       from './js/render';\nimport {    modalMarkup,\n            toForButtonCross    }       from './js/modal_markup';\nimport {    toForFind           }       from './js/toForFind';\nimport {    toWatch,\n            toQueue             }       from './js/toFun';\n\nconst containerHeadLib = document.querySelector('.container_head_lib');\nconst pageLibrary = document.getElementById('library');\n\n            if(pageLibrary){\n               const btnWatched = document.querySelector('a.button_watched_js');\n               btnWatched.classList.add('other_color');\n            }\n\n\nconst KEY = 'watched';\nconst ulLibrary = document.querySelector('ul.ul_library');\nconst forModalLib = document.querySelector('.for_modal_lib');\n\n/////// Pagination for library page\nlet itemsForPage = null;\nfunction too(onePage = 1){\n   const kitWatched = JSON.parse(localStorage.getItem('watched')) ?? [];\n   const startIndex = (onePage - 1) * 20;\n   const endIndex = startIndex + 20;\n   itemsForPage = kitWatched.slice(startIndex, endIndex);\n   renderLayout(itemsForPage, ulLibrary);\n                \n                \n\nif (kitWatched.length > 20) {\n        if (container) container.innerHTML = '';\n        options.totalItems = kitWatched.length;\n        options.itemsPerPage = 20;\n        options.page = onePage;\n        const pagination = new Pagination(container, options);\n        pagination.on('afterMove', function (event) {\n        onePage = event.page;\n        too(onePage);\n    });\n    }\n};\n//=====================================================    \n\n    too();\n \n            ulLibrary.addEventListener('click', (evt)=>{\n            evt.preventDefault();\n            if(evt.target.closest('.card_js')){\n               \n                const oneObj = toForFind(evt.target, KEY);\n                if(!oneObj) return;\n                \n                modalMarkup(oneObj, forModalLib);\n                            const modalOpas = document.querySelector('div.modal');\n                            console.log(modalOpas);\n                            setTimeout(() => { modalOpas.classList.add('modal_opas')}, 80);\n                const btnAddToWatch = document.querySelector('button.arange_button');     \n                const btnAddToQueue = document.querySelector('button.white_button'); \n\n                        toChangeTxtOnBtn(\n                        btnAddToWatch,\n                        oneObj,\n                        'watched',\n                        'REMOVE FROM WATCHED',\n                        'ADD TO WATCHED'\n                                         ); \n\n               \n\n\n                        toChangeTxtOnBtn(\n                        btnAddToQueue,\n                        oneObj,\n                        'queued',\n                        'REMOVE FROM QUEUE',\n                        'ADD TO QUEUE'\n                                        );      \n                            \n                   \n                    btnAddToWatch.addEventListener('click', (evt)=>{\n                                    toWatch(oneObj);\n                        toChangeTxtOnBtn(\n                        btnAddToWatch,\n                        oneObj,\n                        'watched',\n                        'REMOVE FROM WATCHED',\n                        'ADD TO WATCHED'\n                        );                     \n                                    too();\n                                             \n                                                evt.stopPropagation();\n                                                });\n\n\n\n\n  \n                    btnAddToQueue.addEventListener('click', (evt)=>{\n                                    toQueue(oneObj);\n\n                        toChangeTxtOnBtn(\n                        btnAddToQueue,\n                        oneObj,\n                        'queued',\n                        'REMOVE FROM QUEUE',\n                        'ADD TO QUEUE'\n                                        );                                           \n                                                evt.stopPropagation();\n                                                });\n                                \n                toForButtonCross(forModalLib, btnAddToWatch, btnAddToQueue);\n               \n\n            }\n        });\n\n\n\n\n////// switching UI for library page\n   const switchInpLib = document.querySelector('input.switch');\n       console.log(switchInpLib); \n       \n   switchInpLib.addEventListener('change', (evt)=>{\n        \n       console.log(evt.target.checked);\n       renderLayout(itemsForPage, ulLibrary);\n       toSwitchToDarkUI(pageLibrary, containerHeadLib, null);\n       const cards = document.querySelectorAll('li.card_js');\n////// For cards in 'ul'\n       toSwitchUIforLiCard(cards, evt.target.checked);\n       })  "],"names":["containerHeadLib","pageLibrary","KEY","ulLibrary","forModalLib","itemsForPage","too","onePage","kitWatched","startIndex","endIndex","renderLayout","container","options","Pagination","event","evt","oneObj","toForFind","modalMarkup","modalOpas","btnAddToWatch","btnAddToQueue","toChangeTxtOnBtn","toWatch","toQueue","toForButtonCross","switchInpLib","toSwitchToDarkUI","cards","toSwitchUIforLiCard"],"mappings":"qNAAA,QAAQ,IAAI,SAAS,EAiBrB,MAAMA,EAAmB,SAAS,cAAc,qBAAqB,EAC/DC,EAAc,SAAS,eAAe,SAAS,EAEtCA,GACmB,SAAS,cAAc,qBAAqB,EACpD,UAAU,IAAI,aAAa,EAIrD,MAAMC,EAAM,UACNC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAc,SAAS,cAAc,gBAAgB,EAG3D,IAAIC,EAAe,KACnB,SAASC,EAAIC,EAAU,EAAE,CACtB,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQ,SAAS,CAAC,GAAK,CAAA,EAC5DC,GAAcF,EAAU,GAAK,GAC7BG,EAAWD,EAAa,GAC9BJ,EAAeG,EAAW,MAAMC,EAAYC,CAAQ,EACpDC,EAAaN,EAAcF,CAAS,EAInCK,EAAW,OAAS,KACZI,IAAWA,EAAU,UAAY,IACrCC,EAAQ,WAAaL,EAAW,OAChCK,EAAQ,aAAe,GACvBA,EAAQ,KAAON,EACI,IAAIO,EAAWF,EAAWC,CAAO,EACzC,GAAG,YAAa,SAAUE,EAAO,CAC5CR,EAAUQ,EAAM,KAChBT,EAAIC,CAAO,CACf,CAAC,EAEL,CAGID,EAAG,EAEKH,EAAU,iBAAiB,QAAUa,GAAM,CAE3C,GADAA,EAAI,eAAc,EACfA,EAAI,OAAO,QAAQ,UAAU,EAAE,CAE9B,MAAMC,EAASC,EAAUF,EAAI,OAAQd,CAAG,EACxC,GAAG,CAACe,EAAQ,OAEZE,EAAYF,EAAQb,CAAW,EACnB,MAAMgB,EAAY,SAAS,cAAc,WAAW,EACpD,QAAQ,IAAIA,CAAS,EACrB,WAAW,IAAM,CAAEA,EAAU,UAAU,IAAI,YAAY,CAAC,EAAG,EAAE,EACzE,MAAMC,EAAgB,SAAS,cAAc,sBAAsB,EAC7DC,EAAgB,SAAS,cAAc,qBAAqB,EAE1DC,EACAF,EACAJ,EACA,UACA,sBACA,gBACxB,EAKwBM,EACAD,EACAL,EACA,SACA,oBACA,cACxB,EAGoBI,EAAc,iBAAiB,QAAUL,GAAM,CAC/BQ,EAAQP,CAAM,EAC1BM,EACAF,EACAJ,EACA,UACA,sBACA,gBACxB,EACoCX,EAAG,EAESU,EAAI,gBAAe,CACnB,CAAC,EAM7BM,EAAc,iBAAiB,QAAUN,GAAM,CAC/BS,EAAQR,CAAM,EAE1BM,EACAD,EACAL,EACA,SACA,oBACA,cACxB,EACgDD,EAAI,gBAAe,CACnB,CAAC,EAEjCU,EAAiBtB,EAAaiB,EAAeC,CAAa,CAG9D,CACJ,CAAC,EAMN,MAAMK,EAAe,SAAS,cAAc,cAAc,EACtD,QAAQ,IAAIA,CAAY,EAE5BA,EAAa,iBAAiB,SAAWX,GAAM,CAE3C,QAAQ,IAAIA,EAAI,OAAO,OAAO,EAC9BL,EAAaN,EAAcF,CAAS,EACpCyB,EAAiB3B,EAAaD,EAAkB,IAAI,EACpD,MAAM6B,EAAQ,SAAS,iBAAiB,YAAY,EAEpDC,EAAoBD,EAAOb,EAAI,OAAO,OAAO,CAC7C,CAAC"}