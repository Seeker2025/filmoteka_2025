{"version":3,"file":"library.js","sources":["../src/js/render.js","../src/library.js"],"sourcesContent":["import { \n        toShowModalWin,\n        toCloseModal\n }                              from './madal.js';\nimport  noImg                   from '../img/no_img02.png';\n\n\n\nexport const galleryRef = document.querySelector('.gallery');\n\n// const a = galleryRef;\n        // const section = document.querySelector('.section');\n        // const body = document.querySelector('body');\n\nexport function renderLayout(arr, ulContainer, modalBox){\n    const ren = arr.map(({poster_path, id, title, release_date}, idx) =>{\n    let imgMainPath = `<img class=\"img_of_card\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\">`    \n    if(!poster_path){\n        imgMainPath = `<img class=\"img_of_card\" src=${noImg} alt=\"No image\">`\n    }\n                                                    return `\n                                                        <li class=\"card\" id=${id}>\n                                                            ${imgMainPath}\n    <div class=\"card_box\">\n        <h1 class=\"card_title\">${title}</h1>\n        <h2 class=\"card_jenre\">Drama, Comedy | ${Number.parseInt(release_date)||'No date'}</h2>\n    </div>\n                                                        </li>                                              \n                                                        `\n}).join('');\n\n    ulContainer.innerHTML = ren;\n\n    ulContainer.addEventListener('click', modalShow);\n                                                    function modalShow(evt){\n                                                        window.addEventListener('keydown', (evt)=>{\n                                                        if(evt.code === 'Escape'){\n                                                        toCloseModal(modalBox);\n                                                        }\n                                                    });\n   const nestedElem = evt.target;\n   const upperLi = nestedElem.closest('.card');\n   console.log(upperLi);\n   const selectIDbyClick = Number(upperLi.getAttribute('id'));\n   toShowModalWin(selectIDbyClick, modalBox);\n}\n}\n\n\n\n  \n\n","console.log('library');\nimport { footerScaleJS }    from './js/footer';\nimport { renderLayout } from './js/render';\n// console.log(renderLayout);\n\nexport const ulLibrary = document.querySelector('.ul_library');\nexport const forModalLib = document.querySelector('.for_modal_lib');\nconsole.log(forModalLib);\nconsole.log(ulLibrary);\n\n////// Class\nimport { ToRender } from './js/class';\n// console.log(ToRender);\n\n\n\nconst kitWatched = JSON.parse(localStorage.getItem(\"watched\"));\n\nconsole.log(kitWatched);\nconst toRender = new ToRender({arr: kitWatched,  ulContainer: ulLibrary, modalBox: forModalLib});\ntoRender.renderLayout();\n//  renderLayout(kitWatched, ulLibrary, forModalLib);\n\n// footerScaleJS();\n\n"],"names":["ulLibrary","forModalLib","kitWatched","toRender","ToRender"],"mappings":"+CAQ0B,SAAS,cAAc,UAAU,ECR3D,QAAQ,IAAI,SAAS,EAKd,MAAMA,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAc,SAAS,cAAc,gBAAgB,EAClE,QAAQ,IAAIA,CAAW,EACvB,QAAQ,IAAID,CAAS,EAQrB,MAAME,EAAa,KAAK,MAAM,aAAa,QAAQ,SAAS,CAAC,EAE7D,QAAQ,IAAIA,CAAU,EACtB,MAAMC,EAAW,IAAIC,EAAS,CAAC,IAAKF,EAAa,YAAaF,EAAW,SAAUC,CAAW,CAAC,EAC/FE,EAAS,aAAY"}