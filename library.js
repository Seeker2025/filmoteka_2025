import{t as y,m as O,a as r,c as b,d as D,e as f,r as m,f as S}from"./assets/toChangeText-DE0MPsDE.js";import{P as T}from"./assets/vendor-BNzshISR.js";import{c as l,o as i}from"./assets/pagination-B7B_EtDM.js";function _(t,e,a){t.some(o=>o.id===e.id)?(t=t.filter(o=>o.id!==e.id),localStorage.setItem(a,JSON.stringify(t))):(watchedArr.push(e),localStorage.setItem(a,JSON.stringify(t)))}console.log("library");const p=document.querySelector(".container_head_lib"),g=document.getElementById("library");g&&document.querySelector("a.button_watched_js").classList.add("other_color");const A="watched",d=document.querySelector("ul.ul_library"),E=document.querySelector(".for_modal_lib");let s=null;function h(t=1){const e=JSON.parse(localStorage.getItem("watched"))??[],a=(t-1)*20,o=a+20;s=e.slice(a,o),m(s,d),e.length>20&&(l&&(l.innerHTML=""),i.totalItems=e.length,i.itemsPerPage=20,i.page=t,new T(l,i).on("afterMove",function(c){t=c.page,h(t)}))}h();d.addEventListener("click",t=>{if(t.preventDefault(),t.target.closest(".card_js")){const e=y(t.target,A);if(!e)return;O(e,E);const a=document.querySelector("div.modal");console.log(a),setTimeout(()=>{a.classList.add("modal_opas")},10);const o=document.querySelector("button.arange_button"),n=document.querySelector("button.white_button");r(o,e,"watched","REMOVE FROM WATCHED","ADD TO WATCHED"),r(n,e,"queued","REMOVE FROM QUEUE","ADD TO QUEUE"),o.addEventListener("click",c=>{_(),r(o,e,"watched","REMOVE FROM WATCHED","ADD TO WATCHED"),h(),c.stopPropagation()}),n.addEventListener("click",c=>{b(e),r(n,e,"queued","REMOVE FROM QUEUE","ADD TO QUEUE"),c.stopPropagation()}),D(E,o,n)}});const u=document.querySelector("input.switch"),I=JSON.parse(localStorage.getItem("ui"));if(I==="dark"){u.checked=!0,f(g,p,null),u.checked,m(s,d);const t=document.querySelectorAll("li.card_js");S(t,!0)}u.addEventListener("change",t=>{t.target.checked?localStorage.setItem("ui",JSON.stringify("dark")):localStorage.setItem("ui",JSON.stringify("light")),m(s,d),f(g,p,null);const e=document.querySelectorAll("li.card_js");S(e,t.target.checked)});
//# sourceMappingURL=library.js.map
