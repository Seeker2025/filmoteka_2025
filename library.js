import{t as f,m as y,a as n,b as E,c as q,d as p,r as m,e as b}from"./assets/toChangeText-DOuNXNau.js";import{P as w}from"./assets/vendor-BNzshISR.js";import{c as i,o as s}from"./assets/pagination-B7B_EtDM.js";console.log("library");const O=document.querySelector(".container_head_lib"),g=document.getElementById("library");g&&document.querySelector("a.button_watched_js").classList.add("other_color");let A=JSON.parse(localStorage.getItem("watched"))??[],D=JSON.parse(localStorage.getItem("queued"))??[];const L="watched",l=document.querySelector("ul.ul_library"),S=document.querySelector(".for_modal_lib");let d=null;function h(t=1){const e=JSON.parse(localStorage.getItem("watched"))??[],a=(t-1)*20,o=a+20;d=e.slice(a,o),m(d,l),e.length>20&&(i&&(i.innerHTML=""),s.totalItems=e.length,s.itemsPerPage=20,s.page=t,new w(i,s).on("afterMove",function(c){t=c.page,h(t)}))}h();l.addEventListener("click",t=>{if(t.preventDefault(),t.target.closest(".card_js")){const e=f(t.target,L);if(!e)return;y(e,S);const a=document.querySelector("div.modal");console.log(a),setTimeout(()=>{a.classList.add("modal_opas")},10);const o=document.querySelector("button.arange_button"),r=document.querySelector("button.white_button");n(o,e,"watched","REMOVE FROM WATCHED","ADD TO WATCHED"),n(r,e,"queued","REMOVE FROM QUEUE","ADD TO QUEUE"),o.addEventListener("click",c=>{E(A,e,"watched"),n(o,e,"watched","REMOVE FROM WATCHED","ADD TO WATCHED"),h(),c.stopPropagation()}),r.addEventListener("click",c=>{E(D,e,"queued"),n(r,e,"queued","REMOVE FROM QUEUE","ADD TO QUEUE"),c.stopPropagation()}),q(S,o,r)}});const u=document.querySelector("input.switch"),T=JSON.parse(localStorage.getItem("ui"));if(T==="dark"){u.checked=!0,p(g,O,null),u.checked,m(d,l);const t=document.querySelectorAll("li.card_js");b(t,!0)}u.addEventListener("change",t=>{t.target.checked?localStorage.setItem("ui",JSON.stringify("dark")):localStorage.setItem("ui",JSON.stringify("light")),m(d,l),p(g,O,null);const e=document.querySelectorAll("li.card_js");b(e,t.target.checked)});
//# sourceMappingURL=library.js.map
