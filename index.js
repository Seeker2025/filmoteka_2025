import{r as p,e as _,t as w,m as k,a as l,b as S,c as x,d as j}from"./assets/toChangeText-JPbgLij-.js";import{a as D,P as B}from"./assets/vendor-D4Zk_CBc.js";import{o as h,c as W}from"./assets/pagination-B7B_EtDM.js";const J=document.querySelector(".box");function R(){J.style.visibility="visible"}function Q(){J.style.visibility="hidden"}const T="mess",M=document.querySelector(".for_modal"),y=document.querySelector(".gallery"),N=document.querySelector(".nothing"),b=document.querySelector(".tui-pagination"),F="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08";async function i(t,n,a,O,c=1){try{await D.get(`${t}${n}`,{headers:{"Content-Type":"application/json",Authorization:F},params:{query:a,include_adult:!1,page:c}}).then(o=>{localStorage.setItem(T,JSON.stringify(o.data.results)),console.log(o.data),o.data&&Q(),o.data.results?.length?(N.classList.remove("nothing_vis"),b.classList.remove("tui_hidden")):(N.classList.add("nothing_vis"),b.classList.add("tui_hidden")),p(o.data.results,y);const L=document.querySelectorAll("li.card_js");_(L,O),y.addEventListener("click",m=>{if(m.target.closest(".card_js")){const e=w(m.target,T);k(e,M);const U=document.querySelector("div.modal");setTimeout(()=>{U.classList.add("modal_opas")},10);const r=document.querySelector("button.arange_button"),d=document.querySelector("button.white_button");l(r,e,"watched","REMOVE FROM WATCHED","ADD TO WATCHED"),l(d,e,"queued","REMOVE FROM QUEUE","ADD TO QUEUE"),r.addEventListener("click",g=>{S(e,"watched"),l(r,e,"watched","REMOVE FROM WATCHED","ADD TO WATCHED"),g.stopPropagation()}),d.addEventListener("click",g=>{S(e,"queued"),l(d,e,"queued","REMOVE FROM QUEUE","ADD TO QUEUE"),g.stopPropagation()}),x(M,r,d)}});const{results:$,total_results:X,total_pages:C}=o.data;let E=C;c<E&&(h.totalItems=E,h.page=c,new B(W,h).on("afterMove",function(e){c=e.page,i(t,n,a,O,c)}))})}catch(o){console.log(o),p("mistake404",y)}}const Z="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08";async function G(t,n){try{await D.get(`${t}${n}`,{headers:{"Content-Type":"application/json",Authorization:Z}}).then(a=>{localStorage.setItem("genres",JSON.stringify(a.data.genres))})}catch(a){console.log(a)}}const Y=document.querySelector("body#index"),q=document.querySelector(".container_head"),v=document.querySelector("input.input_text"),I=document.querySelector("input.switch"),s="https://api.themoviedb.org/3/",f="trending/movie/day",z="search/movie",H="genre/movie/list";G(s,H);i(s,f);let u=null;const A=document.querySelector(".js_form");A.addEventListener("submit",t=>{t.preventDefault(),u=t.currentTarget.elements.search.value,R(),i(s,z,u),A.reset()});const V=JSON.parse(localStorage.getItem("ui"));if(V==="dark"){I.checked=!0,j(Y,q,v);const t=I.checked;i(s,f,null,t)}I.addEventListener("change",t=>{t.target.checked?localStorage.setItem("ui",JSON.stringify("dark")):localStorage.setItem("ui",JSON.stringify("light")),j(Y,q,v);let n=t.target.checked;u?i(s,z,u,n):i(s,f,null,n)});
//# sourceMappingURL=index.js.map
