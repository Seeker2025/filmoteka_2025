import{r as J,e as _,t as k,m as C,a as L,b as w,c as R,d as b}from"./assets/switch-Cr8D9O9X.js";import{a as Y,P as x}from"./assets/vendor-DT97exK3.js";import{t as d,o as h,c as W}from"./assets/toChangeText-ZA0xxr74.js";const A=document.querySelector(".box");function z(){A.style.visibility="visible"}function Q(){A.style.visibility="hidden"}const S="mess",E=document.querySelector(".for_modal"),I=document.querySelector(".gallery");console.log(I);console.log(E);const B="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08";async function n(t,o,p,m,c=1){try{await Y.get(`${t}${o}`,{headers:{"Content-Type":"application/json",Authorization:B},params:{query:p,include_adult:!1,page:c}}).then(a=>{localStorage.setItem(S,JSON.stringify(a.data.results)),a.data&&Q(),J(a.data.results,I);const j=document.querySelectorAll("li.card_js");console.log(m),_(j,m),I.addEventListener("click",g=>{if(g.target.closest(".card_js")){const e=k(g.target,S);C(e,E);const v=document.querySelector("div.modal");setTimeout(()=>{v.classList.add("modal_opas")},40);const i=document.querySelector("button.arange_button"),l=document.querySelector("button.white_button");d(i,e,"watched","REMOVE FROM WATCHED","ADD TO WATCHED"),d(l,e,"queued","REMOVE FROM QUEUE","ADD TO QUEUE"),i.addEventListener("click",y=>{L(e),d(i,e,"watched","REMOVE FROM WATCHED","ADD TO WATCHED"),y.stopPropagation()}),l.addEventListener("click",y=>{w(e),d(l,e,"queued","REMOVE FROM QUEUE","ADD TO QUEUE"),y.stopPropagation()}),R(E,i,l)}});const{results:H,total_results:V,total_pages:U}=a.data;let O=U;c<O&&(h.totalItems=O,h.page=c,new x(W,h).on("afterMove",function(e){c=e.page,n(t,o,p,m,c)}))})}catch(a){console.log(a)}}const D=document.querySelector("body#index"),M=document.querySelector(".container_head"),q=document.querySelector("input.input_text"),s=document.querySelector("input.switch");console.log(s);const r="https://api.themoviedb.org/3/",f="trending/movie/day",N="search/movie";n(r,f);let u=null;const T=document.querySelector(".js_form");T.addEventListener("submit",t=>{t.preventDefault(),u=t.currentTarget.elements.search.value,z(),n(r,N,u),T.reset()});const F=JSON.parse(localStorage.getItem("ui"));if(F==="dark"){s.checked=!0,b(D,M,q);const t=s.checked;n(r,f,null,t)}s.addEventListener("change",t=>{console.log(s.checked),t.target.checked?localStorage.setItem("ui",JSON.stringify("dark")):localStorage.setItem("ui",JSON.stringify("light")),b(D,M,q);let o=t.target.checked;console.log(o),u?n(r,N,u,o):n(r,f,null,o)});
//# sourceMappingURL=index.js.map
