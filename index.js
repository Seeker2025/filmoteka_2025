import{r as p,e as U,t as _,f as w,m as W,a as k,b as x,c as B,d as A}from"./assets/switch-CLA6ZKqv.js";import{a as j,P as Q}from"./assets/vendor-BNzshISR.js";import{t as l,o as h,c as R}from"./assets/toChangeText-ZA0xxr74.js";const D=document.querySelector(".box");function F(){D.style.visibility="visible"}function Z(){D.style.visibility="hidden"}const T="mess",S=document.querySelector(".for_modal"),y=document.querySelector(".gallery"),M=document.querySelector(".nothing"),N=document.querySelector(".tui-pagination"),G="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08";async function i(t,a,n,O,c=1){try{await j.get(`${t}${a}`,{headers:{"Content-Type":"application/json",Authorization:G},params:{query:n,include_adult:!1,page:c}}).then(o=>{localStorage.setItem(T,JSON.stringify(o.data.results)),console.log(o.data.results),o.data&&Z(),o.data.results?.length?(M.classList.remove("nothing_vis"),N.classList.remove("tui_hidden")):(M.classList.add("nothing_vis"),N.classList.add("tui_hidden")),p(o.data.results,y);const z=document.querySelectorAll("li.card_js");U(z,O),y.addEventListener("click",m=>{if(m.target.closest(".card_js")){const e=_(m.target,T);w(t,e.id),W(e,S);const C=document.querySelector("div.modal");setTimeout(()=>{C.classList.add("modal_opas")},10);const r=document.querySelector("button.arange_button"),d=document.querySelector("button.white_button");l(r,e,"watched","REMOVE FROM WATCHED","ADD TO WATCHED"),l(d,e,"queued","REMOVE FROM QUEUE","ADD TO QUEUE"),r.addEventListener("click",g=>{k(e),l(r,e,"watched","REMOVE FROM WATCHED","ADD TO WATCHED"),g.stopPropagation()}),d.addEventListener("click",g=>{x(e),l(d,e,"queued","REMOVE FROM QUEUE","ADD TO QUEUE"),g.stopPropagation()}),B(S,r,d)}});const{results:P,total_results:K,total_pages:L}=o.data;let E=L;c<E&&(h.totalItems=E,h.page=c,new Q(R,h).on("afterMove",function(e){c=e.page,i(t,a,n,O,c)}))})}catch(o){console.log(o),p("mistake404",y)}}const H="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08";async function V(t,a){try{await j.get(`${t}${a}`,{headers:{"Content-Type":"application/json",Authorization:H}}).then(n=>{localStorage.setItem("genres",JSON.stringify(n.data.genres))})}catch(n){console.log(n)}}const J=document.querySelector("body#index"),Y=document.querySelector(".container_head"),q=document.querySelector("input.input_text"),I=document.querySelector("input.switch"),s="https://api.themoviedb.org/3/",f="trending/movie/day",v="search/movie",$="genre/movie/list";V(s,$);i(s,f);let u=null;const b=document.querySelector(".js_form");b.addEventListener("submit",t=>{t.preventDefault(),u=t.currentTarget.elements.search.value,F(),i(s,v,u),b.reset()});const X=JSON.parse(localStorage.getItem("ui"));if(X==="dark"){I.checked=!0,A(J,Y,q);const t=I.checked;i(s,f,null,t)}I.addEventListener("change",t=>{t.target.checked?localStorage.setItem("ui",JSON.stringify("dark")):localStorage.setItem("ui",JSON.stringify("light")),A(J,Y,q);let a=t.target.checked;u?i(s,v,u,a):i(s,f,null,a)});
//# sourceMappingURL=index.js.map
