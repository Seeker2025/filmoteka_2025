import{r as T,e as j,t as J,m as U,a as v,b as C,c as w,d as R}from"./assets/switch-D-hfSBDg.js";import{a as Y,P as k}from"./assets/vendor-DT97exK3.js";import{t as i,o as h,c as x}from"./assets/toChangeText-ZA0xxr74.js";const b=document.querySelector(".box");function W(){b.style.visibility="visible"}function z(){b.style.visibility="hidden"}const O="mess",y=document.querySelector(".for_modal"),I=document.querySelector(".gallery");console.log(I);console.log(y);console.log(T);const Q="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08";async function s(t,a,E,u,n=1){try{await Y.get(`${t}${a}`,{headers:{"Content-Type":"application/json",Authorization:Q},params:{query:E,include_adult:!1,page:n}}).then(o=>{localStorage.setItem(O,JSON.stringify(o.data.results)),o.data&&z(),console.log(o.data.results),T(o.data.results,I);const L=document.querySelectorAll("li.card_js");console.log(u),j(L,u),I.addEventListener("click",g=>{if(g.target.closest(".card_js")){const e=J(g.target,O);U(e,y);const f=document.querySelector("div.modal");console.log(f),setTimeout(()=>{f.classList.add("modal_opas")},80);const c=document.querySelector("button.arange_button"),l=document.querySelector("button.white_button");i(c,e,"watched","REMOVE FROM WATCHED","ADD TO WATCHED"),i(l,e,"queued","REMOVE FROM QUEUE","ADD TO QUEUE"),c.addEventListener("click",m=>{v(e),i(c,e,"watched","REMOVE FROM WATCHED","ADD TO WATCHED"),m.stopPropagation()}),l.addEventListener("click",m=>{C(e),i(l,e,"queued","REMOVE FROM QUEUE","ADD TO QUEUE"),m.stopPropagation()}),w(y,c,l)}});const{results:H,total_results:V,total_pages:_}=o.data;let p=_;n<p&&(h.totalItems=p,h.page=n,new k(x,h).on("afterMove",function(e){n=e.page,s(t,a,E,u,n)}))})}catch(o){console.log(o)}}const A=document.querySelector("body#index"),D=document.querySelector(".container_head"),B=document.querySelector("input.input_text"),M=document.querySelector("input.switch");console.log(M);const r="https://api.themoviedb.org/3/",q="trending/movie/day",N="search/movie";s(r,q);const F=JSON.parse(localStorage.getItem("ui"))??"light";console.log(F);JSON.parse(localStorage.getItem("ui"))==="dark"&&(A.classList.toggle("light"),D.classList.toggle("con_light"),input.classList.toggle("input_light"));let d=null;const S=document.querySelector(".js_form");S.addEventListener("submit",t=>{t.preventDefault(),d=t.currentTarget.elements.search.value,W(),s(r,N,d),S.reset()});M.addEventListener("change",t=>{console.log(t.target.checked),t.target.checked?localStorage.setItem("ui",JSON.stringify("dark")):localStorage.setItem("ui",JSON.stringify("light")),R(A,D,B);let a=t.target.checked;console.log(a),d?s(r,N,d,a):s(r,q,null,a)});
//# sourceMappingURL=index.js.map
