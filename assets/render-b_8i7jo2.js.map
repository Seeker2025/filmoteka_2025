{"version":3,"file":"render-b_8i7jo2.js","sources":["../../src/js/footer.js","../../src/img/no_img02.png","../../src/js/toFun.js","../../src/js/madal.js","../../src/js/render.js"],"sourcesContent":["const iconYellowJS = document.querySelector('.icon_yellow_js')\n// console.log(iconYellowJS);\n                export function footerScaleJS(){\n                setInterval(()=>{\n                iconYellowJS.classList.toggle('icon_scale');\n                }, 700);\n                }\n\n                footerScaleJS();","export default \"__VITE_ASSET__maMufhHn__\"","let watchedArr = JSON.parse(localStorage.getItem('watched')) ?? [];\nlet queuedArr = JSON.parse(localStorage.getItem('queued')) ?? [];\n\nexport function toWatch(oneObj){\n                        //  watchedArr.some(itm => itm.id === oneObj.id)\n                   \n                   \n                    if(watchedArr.some(itm => itm.id === oneObj.id)){\n                       watchedArr = watchedArr.filter(itm=>itm.id!==oneObj.id);\n                            // console.log(arr01);\n                       localStorage.setItem('watched', JSON.stringify(watchedArr));\n                    //    let kitWatched = JSON.parse(localStorage.getItem(\"watched\"));\n                    //    renderLayout(kitWatched, ulLibrary, forModalLib);     \n                    }else{\n                       watchedArr.push(oneObj);\n                       localStorage.setItem('watched', JSON.stringify(watchedArr));\n                    //    let kitWatched = JSON.parse(localStorage.getItem('watched'));\n                    //    renderLayout(kitWatched, ulLibrary, forModalLib);  \n                         }\n                    \n\n}\n\nexport function toQueue(oneObj){\n                    \n                     if(queuedArr.some(itm => itm.id === oneObj.id)){\n                           queuedArr = queuedArr.filter(itm=>itm.id!==oneObj.id);\n                           localStorage.setItem('queued', JSON.stringify(queuedArr));\n                     }else{\n                          queuedArr.push(oneObj);\n                          localStorage.setItem('queued', JSON.stringify(queuedArr));\n\n                      }\n                      \n}","import { modal_markup } from './modal_markup.js';\n//import { ulLibrary, forModalLib } from '../library.js';\nimport { toWatch, toQueue } from './toFun';\nimport { renderLayout} from './render';\n// console.log(renderLayout);\n\n\n\nconst pageIndex = document.getElementById('index');\nconst pageLibrary = document.getElementById('library');\nconst pageQueue = document.getElementById('queue');\nconsole.log(pageIndex);\nconsole.log(pageLibrary);\nconsole.log(pageQueue);\nconst forModal = document.querySelector('div.for_modal');\n// const forModalLib = document.querySelector('div.for_modal_lib');\nconst forModalQue = document.querySelector('div.for_modal_queue');\nconsole.log(forModal);\n// console.log(forModalLib);\n\n\n\n\nexport function toShowModalWin(id, modalBox){\n        // let queuedArr = JSON.parse(localStorage.getItem('queued')) ?? [];\n        if(pageIndex){\n                const arrAll = JSON.parse(localStorage.getItem('mess'));\n                const oneObj = arrAll.find(itm => itm.id === id);\n                forModal.innerHTML = modal_markup(oneObj);\n             \n        const btnAddToWatch = document.querySelector('button.arange_button');     \n        const btnAddToQueue = document.querySelector('button.white_button');            \n        // console.log(btnAddToQueue);\n        // console.log(btnAddToWatch);  \n                        btnAddToWatch.addEventListener('click', (evt)=>{\n                        toWatch(oneObj);\n                        evt.stopPropagation();\n                        });\n\n                        btnAddToQueue.addEventListener('click', (evt)=>{\n                        toQueue(oneObj);\n                        evt.stopPropagation();\n                        })\n                interrupt(btnAddToWatch,  btnAddToQueue);\n               \n      \n               \n        }\n        if(pageLibrary){\n                const ulLibrary = document.querySelector('ul.ul_library');\n                const forModalLib = document.querySelector('.for_modal_lib');\n                const arrAll = JSON.parse(localStorage.getItem('watched'));\n                const oneObj = arrAll.find(itm => itm.id === id);\n                forModalLib.innerHTML = modal_markup(oneObj);\n        const btnAddToWatch = document.querySelector('button.arange_button');     \n        const btnAddToQueue = document.querySelector('button.white_button');\n                        btnAddToWatch.addEventListener('click', (evt)=>{\n                        toWatch(oneObj);\n                        evt.stopPropagation();\n                        });\n\n                        btnAddToQueue.addEventListener('click', (evt)=>{\n                        toQueue(oneObj);\n                        evt.stopPropagation();\n                        })\n                \n                console.log(forModalLib);\n                console.log(ulLibrary);\n                \n                \n                const kitWatched = JSON.parse(localStorage.getItem('watched'));\n                \n                \n                     \n                interrupt(btnAddToWatch,  btnAddToQueue);\n                // renderLayout(kitWatched, ulLibrary, forModalLib);   \n        }\n        if(pageQueue){\n                const arrAll = JSON.parse(localStorage.getItem('queued'));\n                const oneObj = arrAll.find(itm => itm.id === id);\n                forModalQue.innerHTML = modal_markup(oneObj);\n        }\n//     const arrAll = JSON.parse(localStorage.getItem('watched'));\n//         console.log(arrAll);\n//         console.log(id);\n        \n//     const oneObj = arrAll.find(itm => itm.id === id);\n     \n//     console.log(oneObj);\n//     console.log(oneObj.id);\n    \n\n        // modalBox.innerHTML = modal_markup(oneObj);\n\n        \n      \n         \n\n        // btnAddToQueue.addEventListener('click', toQueueClick)\n        // function toQueueClick(evt, oneObj){\n        //         toQueue(oneObj);\n        //         evt.stopPropagation();\n        // }\nfunction  interrupt(btnAddToWatch,  btnAddToQueue){\n\n                        const cross = document.querySelector('div.cross');\n                        const backdrop = document.querySelector('.backdrop');\n\n                        backdrop.addEventListener('click', (evt)=>{\n                                console.log(evt.target);\n                                if(evt.target === backdrop){\n                                        console.log('whoa!');\n                                        toCloseModal(modalBox);\n                                }\n                        });\n\n                                cross.addEventListener('click', ()=>{\n                                        toCloseModal(modalBox);\n                                cross.removeEventListener('click', ()=>{});\n                                window.removeEventListener('keydown', ()=>{});\n                                btnAddToWatch.removeEventListener('click', ()=>{});\n                                btnAddToQueue.removeEventListener('click', ()=>{});\n                                })\n}\n} \n\nexport function toCloseModal(modalBox){\n        modalBox.innerHTML ='';\n}\n\n"," import { \n         toShowModalWin,\n         toCloseModal\n  }                              from './madal.js';\n  import  noImg                   from '../img/no_img02.png';\n\n \n\n export const galleryRef = document.querySelector('.gallery');\n console.log(galleryRef);\n const ulGallery = document.querySelector('ul.gallery');\n console.log(ulGallery);\n\n// ////// const a = galleryRef;\n//         ////// const section = document.querySelector('.section');\n//         ////// const body = document.querySelector('body');\n\n export function renderLayout(arr, ulContainer){\n     const ren = arr.map(({poster_path, id, title, release_date}, idx) =>{\n     let imgMainPath = `<img class=\"img_of_card\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\">`    \n     if(!poster_path){\n         imgMainPath = `<img class=\"img_of_card\" src=${noImg} alt=\"No image\">`\n     }\n                                                     return `\n                                                         <li class=\"card card_js\" id=${id}>\n                                                             ${imgMainPath}\n     <div class=\"card_box\">\n         <h1 class=\"card_title\">${title}</h1>\n         <h2 class=\"card_jenre\">Drama, Comedy | ${Number.parseInt(release_date)||'No date'}</h2>\n     </div>\n                                                         </li>                                              \n                                                         `\n }).join('');\n\n     ulContainer.innerHTML = ren;\n\n//      ulContainer.addEventListener('click', modalShow);\n//                                      function modalShow(evt){\n//                                          window.addEventListener('keydown', (evt)=>{\n//                                          if(evt.code === 'Escape'){\n//                                          toCloseModal(modalBox);\n//                                          }\n//                                      });\n//     const nestedElem = evt.target;\n//     const upperLi = nestedElem.closest('.card');\n//  //    console.log(upperLi);\n//     const selectIDbyClick = Number(upperLi.getAttribute('id'));\n//     toShowModalWin(selectIDbyClick, modalBox);\n// }\n }\n\n//    ulGallery.addEventListener('click', modalShow);\n//                                        function modalShow(evt){\n//                                            window.addEventListener('keydown', (evt)=>{\n//                                            if(evt.code === 'Escape'){\n//                                            toCloseModal(modalBox);\n//                                            }\n//                                        });\n//       const nestedElem = evt.target;\n//       const upperLi = nestedElem.closest('.card');\n//    //    console.log(upperLi);\n//       const selectIDbyClick = Number(upperLi.getAttribute('id'));\n//       toShowModalWin(selectIDbyClick, modalBox);\n//   }\n\n\n\n  \n\n"],"names":["iconYellowJS","footerScaleJS","noImg","pageIndex","pageLibrary","pageQueue","forModal","galleryRef","ulGallery","renderLayout","arr","ulContainer","ren","poster_path","id","title","release_date","idx","imgMainPath"],"mappings":"ssBAAA,MAAMA,EAAe,SAAS,cAAc,iBAAiB,EAEtC,SAASC,GAAe,CAC/B,YAAY,IAAI,CAChBD,EAAa,UAAU,OAAO,YAAY,CAC1C,EAAG,GAAG,CACN,CAEAC,EAAa,ECR7B,MAAAC,EAAe,+CCAE,KAAK,MAAM,aAAa,QAAQ,SAAS,CAAC,EAC3C,KAAK,MAAM,aAAa,QAAQ,QAAQ,CAAC,ECOzD,MAAMC,EAAY,SAAS,eAAe,OAAO,EAC3CC,EAAc,SAAS,eAAe,SAAS,EAC/CC,EAAY,SAAS,eAAe,OAAO,EACjD,QAAQ,IAAIF,CAAS,EACrB,QAAQ,IAAIC,CAAW,EACvB,QAAQ,IAAIC,CAAS,EACrB,MAAMC,EAAW,SAAS,cAAc,eAAe,EAEnC,SAAS,cAAc,qBAAqB,EAChE,QAAQ,IAAIA,CAAQ,ECTZ,MAAMC,EAAa,SAAS,cAAc,UAAU,EAC3D,QAAQ,IAAIA,CAAU,EACtB,MAAMC,EAAY,SAAS,cAAc,YAAY,EACrD,QAAQ,IAAIA,CAAS,EAMd,SAASC,EAAaC,EAAKC,EAAY,CAC1C,MAAMC,EAAMF,EAAI,IAAI,CAAC,CAAC,YAAAG,EAAa,GAAAC,EAAI,MAAAC,EAAO,aAAAC,CAAY,EAAGC,IAAO,CACpE,IAAIC,EAAc,gEAAgEL,CAAW,UAAUE,CAAK,KAC5G,OAAIF,IACAK,EAAc,gCAAgChB,CAAK,oBAEA;AAAA,uFAC2BY,CAAE;AAAA,+DAC1BI,CAAW;AAAA;AAAA,kCAExCH,CAAK;AAAA,kDACW,OAAO,SAASC,CAAY,GAAG,SAAS;AAAA;AAAA;AAAA,0DAIzF,CAAC,EAAE,KAAK,EAAE,EAENL,EAAY,UAAYC,CAe5B"}