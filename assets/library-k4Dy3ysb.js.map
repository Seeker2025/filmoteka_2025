{"version":3,"file":"library-k4Dy3ysb.js","sources":["../../src/js/footer.js","../../src/img/close.png","../../src/img/no_img02.png","../../src/js/modal_markup.js","../../src/js/madal.js","../../src/js/render.js","../../src/js/class.js","../../src/library.js"],"sourcesContent":["const iconJS = document.querySelector('.icon_js')\n\n                export function footerScaleJS(){\n                setInterval(()=>{\n                iconJS.classList.toggle('icon_scale');\n                }, 800);\n                }","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB6SURBVHgB7ZVBCsAgDASXvmR/aH/cp1gPHkqRmjRqEDLgRdcMiBogCIKFnGVQkWfdY5bmMi7I5KzZDKOcj0I9uSY7TC7JDJd/rU2Tt+amwJdoibQl/y09sAmEw1ETDpeLcHhOhMMHQkVBTbaLpUkkGEnQt0WzNAgCMTf64Es4we8RJwAAAABJRU5ErkJggg==\"","export default \"__VITE_ASSET__maMufhHn__\"","import closeIcon        from '../img/close.png';\nimport noImg            from '../img/no_img02.png';\n\nexport function modal_markup({ \n                                        poster_path,\n                                        title,\n                                        popularity,\n                                        vote_average,\n                                        vote_count,\n                                        overview,\n                                        genre_ids\n }) {\n\n let imgAnotherPath = `<img class=\"img_modal\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\">`  \n                                        if(!poster_path){\n                                                imgAnotherPath = `<img src=${noImg} alt=\"No image\">`;\n                                                \n                                        }  \n\n return `<div class=\"backdrop\">\n                <div class = \"modal\">\n                        <div class=\"cross\">\n                        \n                                \n                                        <img src=${closeIcon} alt=\"close\">\n                                        \n                        \n                        </div>\n\n                                ${imgAnotherPath}\n                <table>\n                           <caption>${title}</caption>\n                                <tr>\n                                        <td class=\"table_cell\">\n                                                <span>Vote / Votes</span>\n                                        </td>\n                                        \n                                      \n                                        <td class=\"table_two\">\n                                                <span class=\"orange\">${vote_average}</span> / ${vote_count}\n                                        </td>\n\n                                        \n                                        \n                                </tr>\n\n                                <tr>\n                                        <td class=\"table_cell\">\n                                                <span>Popularity</span>\n                                        </td>\n\n                                        <td class=\"table_two\">\n                                                ${popularity}\n                                        </td>\n                                       \n                                </tr>\n\n                                <tr>\n                                        <td class=\"table_cell\">\n                                                <span>Original title</span>\n                                        </td>\n\n                                        <td class=\"table_two\">\n                                                ${title}\n                                        </td>\n\n                                </tr>\n\n                                <tr>\n                                        <td class=\"table_cell\">\n                                                <span>Genre</span>\n                                        </td>\n\n                                        <td class=\"table_two\">\n                                                ${genre_ids[0], genre_ids[1]}\n                                        </td>\n\n                                </tr>\n\n                                <tr>\n                                        <td colspan = \"2\"></td>\n                                </tr>\n\n                                <tr>\n                                        <td colspan = \"2\">ABOUT</td>\n                                </tr>\n\n                                <tr>\n        <td colspan = \"2\">\n        ${overview||'Unfortunately, this film does not have a description yet.'}\n        </td>\n                                </tr>\n                      \n                       <tr>\n                                        <td colspan = \"2\" class=\"two_buttons\">\n                        <button type=\"button\" class=\"arange_button\">ADD TO WATCHED</button>\n                                        \n\n                                        \n                        <button type=\"button\" class=\"white_button\">ADD TO QUEUE</button>\n                                        </td>\n                                </tr>  \n                </table>\n                \n                     \n                </div>\n        </div>   \n                `};","import { modal_markup } from './modal_markup.js';\nimport { ulLibrary, forModalLib } from '../library.js';\nimport { renderLayout} from './render';\n\n// const forModal = document.querySelector('div.for_modal');\nlet watchedArr = [];\n\nexport function toShowModalWin(id, modalBox){\n    const chaos = localStorage.getItem('mess');\n    const mess = JSON.parse(chaos);\n\n\n    const oneObj = mess.find((itm) => itm.id === id);\n    console.log(oneObj);\n    console.log(oneObj.id);\n    \n\n        modalBox.innerHTML = modal_markup(oneObj);\n\n        const orangeBtnAddToWatch = document.querySelector('button.arange_button');\n        const whiteBtnAddToQueue = document.querySelector('button.white_button');\n        // console.log(orangeBtnAddToWatch);\n        orangeBtnAddToWatch.addEventListener('click', (evt)=>{\n                console.log('orange!');\n                //  watchedArr.some(itm => itm.id === oneObj.id)\n               \n                if(watchedArr.some(itm => itm.id === oneObj.id)){\n                   watchedArr = watchedArr.filter(itm=>itm.id!==oneObj.id);\n                        // console.log(arr01);\n                //    localStorage.setItem(\"watched\", JSON.stringify(watchedArr));\n                //    let kitWatched = JSON.parse(localStorage.getItem(\"watched\"));\n                //    renderLayout(kitWatched, ulLibrary, forModalLib);     \n                }else{\n                   watchedArr.push(oneObj);\n                   localStorage.setItem(\"watched\", JSON.stringify(watchedArr));\n                   let kitWatched = JSON.parse(localStorage.getItem(\"watched\"));\n                //    renderLayout(kitWatched, ulLibrary, forModalLib);  \n                     }\n                \n               \n                evt.stopPropagation();\n        })\n\n        whiteBtnAddToQueue.addEventListener('click', (evt)=>{\n                // console.log('white');\n                evt.stopPropagation();\n        })\n\n\n        const cross = document.querySelector('div.cross');\n      \n                        const backdrop = document.querySelector('.backdrop');\n                        backdrop.addEventListener('click', (evt)=>{\n                                console.log(evt.target);\n                                if(evt.target === backdrop){\n                                        console.log('whoa!');\n                                        toCloseModal(modalBox);\n                                }\n                        });\n\n                                        cross.addEventListener('click', ()=>{\n                                                        toCloseModal(modalBox);\n                                                cross.removeEventListener('click', ()=>{});\n                                                window.removeEventListener('keydown', ()=>{});\n                                                orangeBtnAddToWatch.removeEventListener('click', ()=>{});\n                                                whiteBtnAddToQueue.removeEventListener('click', ()=>{});\n                                        })\n}\n\n\nexport function toCloseModal(modalBox){\n        modalBox.innerHTML ='';\n}\n\n","import { \n        toShowModalWin,\n        toCloseModal\n }                              from './madal.js';\nimport  noImg                   from '../img/no_img02.png';\n\n\n\nexport const galleryRef = document.querySelector('.gallery');\n\n// const a = galleryRef;\n        // const section = document.querySelector('.section');\n        // const body = document.querySelector('body');\n\nexport function renderLayout(arr, ulContainer, modalBox){\n    const ren = arr.map(({poster_path, id, title, release_date}, idx) =>{\n    let imgMainPath = `<img class=\"img_of_card\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\">`    \n    if(!poster_path){\n        imgMainPath = `<img class=\"img_of_card\" src=${noImg} alt=\"No image\">`\n    }\n                                                    return `\n                                                        <li class=\"card\" id=${id}>\n                                                            ${imgMainPath}\n    <div class=\"card_box\">\n        <h1 class=\"card_title\">${title}</h1>\n        <h2 class=\"card_jenre\">Drama, Comedy | ${Number.parseInt(release_date)||'No date'}</h2>\n    </div>\n                                                        </li>                                              \n                                                        `\n}).join('');\n\n    ulContainer.innerHTML = ren;\n\n    ulContainer.addEventListener('click', modalShow);\n                                                    function modalShow(evt){\n                                                        window.addEventListener('keydown', (evt)=>{\n                                                        if(evt.code === 'Escape'){\n                                                        toCloseModal(modalBox);\n                                                        }\n                                                    });\n   const nestedElem = evt.target;\n   const upperLi = nestedElem.closest('.card');\n   console.log(upperLi);\n   const selectIDbyClick = Number(upperLi.getAttribute('id'));\n   toShowModalWin(selectIDbyClick, modalBox);\n}\n}\n\n\n\n  \n\n","export class toRender{\n    constructor({arr, ulContainer, modalBox}){\n        this.arr = arr;\n        this.ulContainer = ulContainer;\n        this.modalBox = modalBox;\n\n\n    }\n    // renderLayout(arr, ulContainer, modalBox)\n    renderLayout(){\n        const ren = this.arr.map(({poster_path, id, title, release_date}, idx) =>{\n        let imgMainPath = `<img class=\"img_of_card\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\">`    \n        if(!poster_path){\n            imgMainPath = `<img class=\"img_of_card\" src=${noImg} alt=\"No image\">`\n        }\n                                                        return `\n                                                            <li class=\"card\" id=${id}>\n                                                                ${imgMainPath}\n        <div class=\"card_box\">\n            <h1 class=\"card_title\">${title}</h1>\n            <h2 class=\"card_jenre\">Drama, Comedy | ${Number.parseInt(release_date)||'No date'}</h2>\n        </div>\n                                                            </li>                                              \n                                                            `\n    }).join('');\n    \n        this.ulContainer.innerHTML = ren;\n    \n        this.ulContainer.addEventListener('click', modalShow);\n                                                        function modalShow(evt){\n                                                            window.addEventListener('keydown', (evt)=>{\n                                                            if(evt.code === 'Escape'){\n                                                            toCloseModal(modalBox);\n                                                            }\n                                                        });\n       const nestedElem = evt.target;\n       const upperLi = nestedElem.closest('.card');\n       console.log(upperLi);\n       const selectIDbyClick = Number(upperLi.getAttribute('id'));\n       toShowModalWin(selectIDbyClick, modalBox);\n    }\n    }\n}","console.log('library');\nimport { footerScaleJS }    from './js/footer';\nimport { renderLayout } from './js/render';\n// console.log(renderLayout);\n\nexport const ulLibrary = document.querySelector('.ul_library');\nexport const forModalLib = document.querySelector('.for_modal_lib');\nconsole.log(forModalLib);\nconsole.log(ulLibrary);\n\n////// Class\nimport { toRender } from './js/class';\nconsole.log(toRender);\n\n\n\nconst kitWatched = JSON.parse(localStorage.getItem(\"watched\"));\n\nconsole.log(kitWatched);\n//  renderLayout(kitWatched, ulLibrary, forModalLib);\n\nfooterScaleJS();\n\n"],"names":["iconJS","footerScaleJS","closeIcon","noImg$1","modal_markup","poster_path","title","popularity","vote_average","vote_count","overview","genre_ids","imgAnotherPath","noImg","watchedArr","toShowModalWin","id","modalBox","chaos","oneObj","itm","orangeBtnAddToWatch","whiteBtnAddToQueue","evt","cross","backdrop","toCloseModal","galleryRef","renderLayout","arr","ulContainer","ren","release_date","idx","imgMainPath","modalShow","upperLi","selectIDbyClick","toRender","ulLibrary","forModalLib","kitWatched"],"mappings":"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"}