{"version":3,"file":"index.js","sources":["../src/js/pagination.js","../src/js/loader.js","../src/js/toForFind.js","../src/js/api.js","../src/index.js"],"sourcesContent":["export const container = document.querySelector('.tui-pagination');\nexport const options = {\n    totalItems: 20,\n     itemsPerPage: 10,\n     visiblePages: 5,\n    page: 1,\n     centerAlign: false,\n     firstItemClassName: 'tui-first-child',\n     lastItemClassName: 'tui-last-child',\n     template: {\n         page: '<a href=\"#\" class=\"buttons_other tui-page-btn\">{{page}}</a>',\n         currentPage: '<strong class=\"button_orange tui-page-btn tui-is-selected\">{{page}}</strong>',\n         moveButton:\n             '<a href=\"#\" class=\"arrow tui-page-btn tui-{{type}}\">' +\n                 '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n             '</a>',\n         disabledMoveButton:\n             '<span class=\"arrow tui-page-btn tui-is-disabled tui-{{type}}\">' +\n                 '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n             '</span>',\n         moreButton:\n             '<a href=\"#\" class=\"dots tui-page-btn tui-{{type}}-is-ellip\">' +\n                 '<span class=\"tui-ico-ellip\">. . .</span>' +\n             '</a>'\n     }\n    };","const loader = document.querySelector('.box');\n\nexport function showLoader(){\n   loader.style.visibility = 'visible';\n}\n\nexport function hideLoader(){\n   loader.style.visibility = 'hidden';\n}","export function toForFind(elem){\n    const upperLi = elem.closest('.card');\n    const selectIDbyClick = Number(upperLi.getAttribute('id'));\n    return selectIDbyClick;\n};\n\nexport function toFindOne(id){\nconst arrAll = JSON.parse(localStorage.getItem('mess'));\n                const oneObj = arrAll.find(itm => itm.id === id);\n                forModal.innerHTML = modal_markup(oneObj);\n};"," \nimport    axios                 from 'axios';\nimport {  renderLayout  }        from './render';\nimport    Pagination            from  'tui-pagination'; \nimport {  options,\n          container\n }                              from './pagination.js';\nimport { hideLoader }           from './loader.js';\nimport { bigModal } from './toShowModalWin.js';\nimport { toForFind } from './toForFind.js'\n\n// import { ToRender } from './class.js';\nimport  noImg  from '../img/no_img02.png';\n import { toShowModalWin } from './madal.js';\n\n\n const forModal = document.querySelector('.for_modal');\n const galleryRef = document.querySelector('.gallery');\n console.log(galleryRef);\n console.log(forModal);\n console.log(renderLayout);\n\n\nconst bearer = 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08';\n\nexport const BASE_URL = 'https://api.themoviedb.org/3/';\nexport const trending = 'trending/movie/day';\nexport const search   = 'search/movie';\n\nexport async function getAPIdata(main, part,  whatLookingFor, onePage = 1){\n    try{\n        await axios.get( `${main}${part}`, {\n                          headers: {\n                            'Content-Type': 'application/json',\n                            Authorization: bearer,\n                            },\n                             params: {\n                             query: whatLookingFor,\n                             include_adult: false,\n                             page: onePage,\n                            \n                            }\n })\n                  .then(response => {\n        localStorage.setItem(\"mess\", JSON.stringify(response.data.results));\n        \n                                if(response.data) hideLoader();\n                                console.log(response.data.results);\n        renderLayout(response.data.results, galleryRef);\n        galleryRef.addEventListener('click', (evt)=>{\n            if(evt.target.closest('.card_js')){\n                console.log('Hi!');\n                // const upperLi = evt.target.closest('.card');\n                \n                // const selectIDbyClick = Number(upperLi.getAttribute('id'));\n                const aNumber = toForFind(evt.target);\n                console.log(a);\n\n            }\n        })\n        // bigModal(galleryRef, forModal)\n        //const toRenderInIndex = new ToRender({\n        //                            arr: response.data.results,\n         //                             noImg: noImg,\n       //                                    });\n        //                        toRenderInIndex.renderLayout( );\n                                const { results, total_results, total_pages }=response.data;\n                                let totalPages = total_pages;\n    if (onePage < totalPages) {\n        options.totalItems = totalPages;\n        options.page = onePage;\n        const pagination = new Pagination(container, options);\n        pagination.on('afterMove', function (event) {\n        onePage = event.page;\n        getAPIdata(main, part,  whatLookingFor, onePage);\n    });\n    }\n        }\n)\n \n    }catch(error){\n    console.log(error);\n    }\n}\n","import { \n            getAPIdata,\n            trending,\n            BASE_URL,\n            search\n }                          from './js/api';\nimport { footerScaleJS }    from './js/footer';\nimport { showLoader }       from './js/loader';\n\n// import { galleryRef } from './js/render';\n// console.log(galleryRef);\n\n\n// showLoader();\ngetAPIdata( BASE_URL, trending);\n// footerScaleJS();\n\n                            const form = document.querySelector('.js_form');\n                            form.addEventListener('submit', (evt)=>{\n                            evt.preventDefault();\n                            const movie = evt.currentTarget.elements.search.value;\n                            showLoader();\n                            getAPIdata( BASE_URL, search, movie);\n                            form.reset();\n                            })\n\n\n"],"names":["container","options","loader","showLoader","hideLoader","toForFind","elem","upperLi","forModal","galleryRef","renderLayout","bearer","BASE_URL","trending","search","getAPIdata","main","part","whatLookingFor","onePage","axios","response","evt","aNumber","results","total_results","total_pages","totalPages","Pagination","event","error","form","movie"],"mappings":"uGAAO,MAAMA,EAAY,SAAS,cAAc,iBAAiB,EACpDC,EAAU,CACnB,WAAY,GACX,aAAc,GACd,aAAc,EACf,KAAM,EACL,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACN,KAAM,8DACN,YAAa,+EACb,WACI,yGAGJ,mBACI,sHAGJ,WACI,0GAGb,CACA,ECzBMC,EAAS,SAAS,cAAc,MAAM,EAErC,SAASC,GAAY,CACzBD,EAAO,MAAM,WAAa,SAC7B,CAEO,SAASE,GAAY,CACzBF,EAAO,MAAM,WAAa,QAC7B,CCRO,SAASG,EAAUC,EAAK,CAC3B,MAAMC,EAAUD,EAAK,QAAQ,OAAO,EAEpC,OADwB,OAAOC,EAAQ,aAAa,IAAI,CAAC,CAE7D,CCYC,MAAMC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAa,SAAS,cAAc,UAAU,EACpD,QAAQ,IAAIA,CAAU,EACtB,QAAQ,IAAID,CAAQ,EACpB,QAAQ,IAAIE,CAAY,EAGzB,MAAMC,EAAS,yPAEFC,EAAW,gCACXC,EAAW,qBACXC,EAAW,eAEjB,eAAeC,EAAWC,EAAMC,EAAOC,EAAgBC,EAAU,EAAE,CACtE,GAAG,CACC,MAAMC,EAAM,IAAK,GAAGJ,CAAI,GAAGC,CAAI,GAAI,CACjB,QAAS,CACP,eAAgB,mBAChB,cAAeN,CAC3C,EAC6B,OAAQ,CACR,MAAOO,EACP,cAAe,GACf,KAAMC,CAEnC,CACA,CAAE,EACiB,KAAKE,GAAY,CAC5B,aAAa,QAAQ,OAAQ,KAAK,UAAUA,EAAS,KAAK,OAAO,CAAC,EAEvCA,EAAS,MAAMjB,EAAU,EAC5B,QAAQ,IAAIiB,EAAS,KAAK,OAAO,EACzDX,EAAaW,EAAS,KAAK,QAASZ,CAAU,EAC9CA,EAAW,iBAAiB,QAAUa,GAAM,CACxC,GAAGA,EAAI,OAAO,QAAQ,UAAU,EAAE,CAC9B,QAAQ,IAAI,KAAK,EAIjB,MAAMC,EAAUlB,EAAUiB,EAAI,MAAM,EACpC,QAAQ,IAAI,CAAC,CAEjB,CACJ,CAAC,EAOuB,KAAM,CAAE,QAAAE,EAAS,cAAAC,EAAe,YAAAC,CAAW,EAAGL,EAAS,KACvD,IAAIM,EAAaD,EACzCP,EAAUQ,IACV1B,EAAQ,WAAa0B,EACrB1B,EAAQ,KAAOkB,EACI,IAAIS,EAAW5B,EAAWC,CAAO,EACzC,GAAG,YAAa,SAAU4B,EAAO,CAC5CV,EAAUU,EAAM,KAChBd,EAAWC,EAAMC,EAAOC,EAAgBC,CAAO,CACnD,CAAC,EAEG,CACR,CAEI,OAAOW,EAAM,CACb,QAAQ,IAAIA,CAAK,CACjB,CACJ,CCrEAf,EAAYH,EAAUC,CAAQ,EAGF,MAAMkB,EAAO,SAAS,cAAc,UAAU,EAC9CA,EAAK,iBAAiB,SAAWT,GAAM,CACvCA,EAAI,eAAc,EAClB,MAAMU,EAAQV,EAAI,cAAc,SAAS,OAAO,MAChDnB,EAAU,EACVY,EAAYH,EAAUE,EAAQkB,CAAK,EACnCD,EAAK,MAAK,CACV,CAAC"}