{"version":3,"file":"index.js","sources":["../src/js/madal.js","../src/js/render.js","../src/js/api.js","../src/main.js"],"sourcesContent":["const forModal = document.querySelector('div.for_modal');\n\nexport function toShowModalWin(id){\n    const chaos = localStorage.getItem('mess');\n    const mess = JSON.parse(chaos);\n//     console.log(mess);\n//     console.log(id);\n\n    const oneObj = mess.find((itm) => itm.id === id);\n//     console.log(oneObj);\n    \n    // console.log(mess.find(itm => itm.id === id));\n    // mess.find(itm => itm.id === id);\n    // return oneObj;\n\n     const box = `\n        <div class=\"backdrop\">\n                <div class = \"modal\">\n                     <h1>${oneObj.title}</h1>\n                     <h2 class=\"cross\">X</h2>\n                     <img src=\"https://image.tmdb.org/t/p/w500${oneObj.poster_path}\" width=\"150\" alt=\"\">\n                </div>\n        </div>   \n                `\n        forModal.innerHTML = box;\n\n        const cross = document.querySelector('h2.cross');\n        // const modalRef = document.querySelector('div.modal');\n        // console.log(cross);\n        // console.log(modalRef);\n        // console.log(modalRef);\n        // modalRef.addEventListener('click', (evt)=>{\n                //  console.log(evt.target);\n                // }\n                // window.addEventListener('click', (evt)=>{\n                // if(evt.target === modalRef){\n                //         console.log('Whoa!');\n                //         toCloseModal();\n                // }\n        // })\n        const backdrop = document.querySelector('.backdrop');\n        backdrop.addEventListener('click', (evt)=>{\n                \n                console.log(evt.target);\n                if(evt.target === backdrop){\n                        console.log('whoa!');\n                        toCloseModal();\n                }\n        });\n\n        cross.addEventListener('click', ()=>{\n                        toCloseModal();\n                  cross.removeEventListener('click', ()=>{});\n                  window.removeEventListener('keydown', ()=>{});\n        })\n}\n// const oneObj = mess.find(itm => itm.id === id);\n//     console.log(oneObj);\n// export const oneObj =  toGetOneId(1078605)\n\n// export function toShowModalWin(oneObj){\n//     const box = `\n//         <div class = \"modal\">\n//             <h1>Hi!</h1>\n//             <img src=\"https://image.tmdb.org/t/p/w500${oneObj.poster_path}\" width=\"200\" alt=\"\">\n//         </div>\n//     `\n//     forModal.insertAdjacentHTML('beforeend', box);\n// }\n\nexport function toCloseModal(){\n        forModal.innerHTML ='';\n}\n\n","import { \n        toShowModalWin,\n        toCloseModal\n } from './madal.js';\n\nconst galleryRef = document.querySelector('.gallery');\nconst section = document.querySelector('.section');\nconst body = document.querySelector('body');\n\n// console.log(galleryRef);\n// console.log(modal);\n// console.log(cross);\n\nexport function renderLayout(arr){\n    const ren = arr.map(({poster_path, id}, idx) =>{\n    return `\n        <li class=\"card\" id=${id}>\n            <h2>${id}</h2>\n           <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" width=\"\" alt=\"\">\n           \n        </li>                                              \n        `\n}).join('');\n\n galleryRef.insertAdjacentHTML('beforeend', ren);\n}\n\n galleryRef.addEventListener('click', modalShow);\n                                                    function modalShow(evt){\n                                                        window.addEventListener('keydown', (evt)=>{\n                                                            if(evt.code === 'Escape'){\n                                                            toCloseModal();\n                                                        }\n                                                    });\n\n    // if(one){\n    //     console.log('Hi02');\n    //     return;\n    // }\n    // one = evt.target\n   const nestedElem = evt.target;\n   const upperLi = nestedElem.closest('.card');\n   console.log(upperLi);\n        //  if(upperLi !== evt.target){\n        //     toCloseModal(); \n        //     console.log('Noup!');\n        //  }                                           \n//    console.log(upperLi.getAttribute('id'));\n   const selectIDbyClick = Number(upperLi.getAttribute('id'));\n//    console.log(selectIDbyClick);\n//    const arr = [1088166, 934456, 1007734,];\n//    const one = arr.find(itm => itm === 1088166)\n   toShowModalWin(selectIDbyClick);\n}\n\n  \n\n","import axios from 'axios';\nimport {  renderLayout } from './render.js';\n// console.log(renderLayout);\n\n// const APIKey = '3af5fd0b838bf2a259ff06cb75968037';\nconst bearer = 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08';\nconst BASE_URL01 = 'https://api.themoviedb.org/3/trending/movie/day?language=en-US&&page=4';\nconst BASE_URL02 = 'https://api.themoviedb.org/3/trending/movie/day';\n// const BASE_URL_people = 'https://api.themoviedb.org/3/trending/person/day?language=en-US';\n// const BASE_URL_collections = 'https://api.themoviedb.org/3/collection/collection_id?language=en-US';\nconst title = 'Pulp fiction';\nconst title02 = 'Batman';\nconst BASE_mov=`https://api.themoviedb.org/3/search/movie?query=${title}&include_adult=false&language=en-US&page=1`;\nconst BASE_mov02 = 'https://api.themoviedb.org/3/search/movie';\nexport const BASE_URL = 'https://api.themoviedb.org/3/';\nexport const trending = 'trending/movie/day';\n\nexport async function getAPIdata(main, part){\n    try{\n        await axios.get( `${main}${part}`, {\n                          headers: {\n                            'Content-Type': 'application/json',\n                            Authorization: bearer,\n                            },\n                             params: {\n                             query: title02,\n                             include_adult: false,\n                             page: 1,\n                            }\n })\n                  .then(response => {\n                    //   console.log(response.data.results)\n                      // console.log(response.data.results[0])\n                      // console.log(response.data.results[0].id)\n                      // const mess = JSON.stringify(response.data.results);\n                      localStorage.setItem(\"mess\", JSON.stringify(response.data.results));\n                      renderLayout(response.data.results);\n                    }\n)\n \n    }catch(error){\n    console.log(error);\n    }\n}\n\n\n// it works\n// export async function getAPIdata(){\n// const options = {\n//   method: 'GET',\n//   headers: {\n//     accept: 'application/json',\n//     Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08',\n//   }\n// };\n\n// fetch(BASE_URL, options)\n//   .then(res => res.json())\n//   .then(res => console.log(res))\n//   .catch(err => console.error(err));\n// }","import { getAPIdata, trending, BASE_URL } from './js/api.js';\nimport {  renderLayout } from './js/render.js'\n// import {  forma } from './js/forma.js'\n\n\n\n getAPIdata( BASE_URL, trending);\n\n\n\n\nconst form = document.querySelector('.js_form');\n// console.log(form);\n\nform.addEventListener('submit', (evt)=>{\n    evt.preventDefault();\n    const movie = evt.currentTarget.elements.search.value\n    console.log(evt.currentTarget.elements.search.value);\n})\n\n"],"names":["forModal","toShowModalWin","id","chaos","oneObj","itm","box","cross","backdrop","evt","toCloseModal","galleryRef","renderLayout","arr","ren","poster_path","idx","modalShow","upperLi","selectIDbyClick","bearer","title02","BASE_URL","trending","getAPIdata","main","part","axios","response","error","form"],"mappings":"0xBAAA,MAAMA,EAAW,SAAS,cAAc,eAAe,EAEhD,SAASC,EAAeC,EAAG,CAC9B,MAAMC,EAAQ,aAAa,QAAQ,MAAM,EAKnCC,EAJO,KAAK,MAAMD,CAAK,EAIT,KAAME,GAAQA,EAAI,KAAOH,CAAE,EAOxCI,EAAM;AAAA;AAAA;AAAA,2BAGUF,EAAO,KAAK;AAAA;AAAA,gEAEyBA,EAAO,WAAW;AAAA;AAAA;AAAA,kBAI1EJ,EAAS,UAAYM,EAErB,MAAMC,EAAQ,SAAS,cAAc,UAAU,EAczCC,EAAW,SAAS,cAAc,WAAW,EACnDA,EAAS,iBAAiB,QAAUC,GAAM,CAElC,QAAQ,IAAIA,EAAI,MAAM,EACnBA,EAAI,SAAWD,IACV,QAAQ,IAAI,OAAO,EACnBE,EAAY,EAE5B,CAAC,EAEDH,EAAM,iBAAiB,QAAS,IAAI,CACpBG,EAAY,EAClBH,EAAM,oBAAoB,QAAS,IAAI,CAAC,CAAC,EACzC,OAAO,oBAAoB,UAAW,IAAI,CAAC,CAAC,CACtD,CAAC,CACT,CAeO,SAASG,GAAc,CACtBV,EAAS,UAAW,EAC5B,CCnEA,MAAMW,EAAa,SAAS,cAAc,UAAU,EACpC,SAAS,cAAc,UAAU,EACpC,SAAS,cAAc,MAAM,EAMnC,SAASC,EAAaC,EAAI,CAC7B,MAAMC,EAAMD,EAAI,IAAI,CAAC,CAAC,YAAAE,EAAa,GAAAb,CAAE,EAAGc,IACjC;AAAA,8BACmBd,CAAE;AAAA,kBACdA,CAAE;AAAA,sDACkCa,CAAW;AAAA;AAAA;AAAA,SAIhE,EAAE,KAAK,EAAE,EAETJ,EAAW,mBAAmB,YAAaG,CAAG,CAC/C,CAECH,EAAW,iBAAiB,QAASM,CAAS,EACK,SAASA,EAAUR,EAAI,CACnB,OAAO,iBAAiB,UAAYA,GAAM,CACnCA,EAAI,OAAS,UAChBC,EAAY,CAEpB,CAAC,EAQlD,MAAMQ,EADaT,EAAI,OACI,QAAQ,OAAO,EAC1C,QAAQ,IAAIS,CAAO,EAMnB,MAAMC,EAAkB,OAAOD,EAAQ,aAAa,IAAI,CAAC,EAIzDjB,EAAekB,CAAe,CACjC,CChDA,MAAMC,EAAS,yPAMTC,EAAU,SAGHC,EAAW,gCACXC,EAAW,qBAEjB,eAAeC,EAAWC,EAAMC,EAAK,CACxC,GAAG,CACC,MAAMC,EAAM,IAAK,GAAGF,CAAI,GAAGC,CAAI,GAAI,CACjB,QAAS,CACP,eAAgB,mBAChB,cAAeN,CAC3C,EAC6B,OAAQ,CACR,MAAOC,EACP,cAAe,GACf,KAAM,CACnC,CACA,CAAE,EACiB,KAAKO,GAAY,CAKd,aAAa,QAAQ,OAAQ,KAAK,UAAUA,EAAS,KAAK,OAAO,CAAC,EAClEhB,EAAagB,EAAS,KAAK,OAAO,CACpC,CACpB,CAEI,OAAOC,EAAM,CACb,QAAQ,IAAIA,CAAK,CACjB,CACJ,CCrCCL,EAAYF,EAAUC,CAAQ,EAK/B,MAAMO,EAAO,SAAS,cAAc,UAAU,EAG9CA,EAAK,iBAAiB,SAAWrB,GAAM,CACnCA,EAAI,eAAc,EACJA,EAAI,cAAc,SAAS,OAAO,MAChD,QAAQ,IAAIA,EAAI,cAAc,SAAS,OAAO,KAAK,CACvD,CAAC"}