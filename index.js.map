{"version":3,"file":"index.js","sources":["../src/js/madal.js","../src/js/render.js","../src/js/api.js","../src/main.js"],"sourcesContent":["const forModal = document.querySelector('div.for_modal');\n\nexport function toShowModalWin(id){\n    const chaos = localStorage.getItem('mess');\n    const mess = JSON.parse(chaos);\n    console.log(mess);\n    console.log(id);\n\n    const oneObj = mess.find((itm) => itm.id === id);\n       console.log(oneObj);\n    \n    // console.log(mess.find(itm => itm.id === id));\n\n    // mess.find(itm => itm.id === id);\n\n    \n    // return oneObj;\n    \n\n     const box = `\n        <div class = \"modal\">\n             <h1>${oneObj.title}</h1>\n             <h2 class=\"cross\">X</h2>\n             <img src=\"https://image.tmdb.org/t/p/w500${oneObj.poster_path}\" width=\"150\" alt=\"\">\n        </div>\n                `\n        forModal.innerHTML = box;\n\n        const cross = document.querySelector('.cross');\n        console.log(cross);\n\n        cross.addEventListener('click', ()=>{\n                toCloseModal();\n                  cross.removeEventListener('click', ()=>{});\n        })\n\n    \n}\n\n// const oneObj = mess.find(itm => itm.id === id);\n//     console.log(oneObj);\n// export const oneObj =  toGetOneId(1078605)\n\n\n\n// export function toShowModalWin(oneObj){\n//     const box = `\n//         <div class = \"modal\">\n//             <h1>Hi!</h1>\n//             <img src=\"https://image.tmdb.org/t/p/w500${oneObj.poster_path}\" width=\"200\" alt=\"\">\n//         </div>\n//     `\n    \n//     forModal.insertAdjacentHTML('beforeend', box);\n// }\n\nexport function toCloseModal(){\n        forModal.innerHTML ='';\n}\n\n","import { toShowModalWin } from './madal.js';\n\nconst galleryRef = document.querySelector('.gallery');\nconst section = document.querySelector('.section');\nconst body = document.querySelector('body');\n// console.log(body);\n\n\n// console.log(galleryRef);\n// console.log(modal);\n// console.log(cross);\n\nexport function renderLayout(arr){\n    const ren = arr.map(({poster_path, id}, idx) =>{\n    return `\n        <li class=\"card\" id=${id}>\n            <h2>${id}</h2>\n           <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" width=\"200\" alt=\"\">\n           \n        </li>                                              \n        `\n}).join('');\n\n galleryRef.insertAdjacentHTML('beforeend', ren);\n\n}\n\ngalleryRef.addEventListener('click', modalShow);\n// let one = null\nfunction modalShow(evt){\n  \n    // if(one){\n    //     console.log('Hi02');\n    //     return;\n    // }\n    // one = evt.target\n   const nestedElem = evt.target;\n   const upperLi = nestedElem.closest('.card');\n//    console.log(upperLi.getAttribute('id'));\n   const selectIDbyClick = Number(upperLi.getAttribute('id'));\n   console.log(selectIDbyClick);\n//    const arr = [1088166, 934456, 1007734,];\n//    const one = arr.find(itm => itm === 1088166)\n   toShowModalWin(selectIDbyClick);\n//    toGetOneId(selectIDbyClick);\n//     console.log(typeof(selectIDbyClick));\n//    console.log(one);\n   \n//   mess.find(itm => itm.id === id);\n    // console.log(mess.find(itm => itm.id === id));\n//    toShowModalWin();\n\n//    const textWithId = upperLi.querySelector('li h2');\n   \n//    console.log( textWithId.textContent);\n \n   \n\n//    setTimeout(()=>{\n//         upperLi.classList.remove('visible');\n//    }, 2000)\n//    upperLi.classList.remove('visible');\n  \n\n    \n//           setTimeout(()=>{\n//         upperLi.classList.remove('visible');\n//    }, 2000) \n         \n    \n\n//   modalRender();\n//   galleryRef.removeEventListener('click', modalShow);\n    // console.log(evt.target.nodeName);\n    // evt.target.classList.add('border');\n    // body.classList.add('show-modal');\n    \n   \n    // if(evt.code === 'Escape'){\n        \n    //  }\n    // galleryRef.removeEventListener('click', modalShow);\n   \n}\n\n\n\n    // console.log(cross);\n    // cross.addEventListener('click', ()=>{\n    //      console.log('cross01');\n    //      upperLi.classList.remove('visible');\n    // });\n\n\n","import axios from 'axios';\nimport {  renderLayout } from './render.js';\n// console.log(renderLayout);\n\n// const APIKey = '3af5fd0b838bf2a259ff06cb75968037';\nconst bearer = 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08';\nconst BASE_URL = 'https://api.themoviedb.org/3/trending/movie/day?language=en-US';\n// const BASE_URL_people = 'https://api.themoviedb.org/3/trending/person/day?language=en-US';\n// const BASE_URL_collections = 'https://api.themoviedb.org/3/collection/collection_id?language=en-US';\n\n\n\nexport async function getAPIdata(){\n    try{\n        await axios.get(BASE_URL, {\n                          headers: {\n                            'Content-Type': 'application/json',\n                            Authorization: bearer,\n                                    }\n })\n                  .then(response => {\n                    //   console.log(response.data.results)\n                      // console.log(response.data.results[0])\n                      // console.log(response.data.results[0].id)\n                      // const mess = JSON.stringify(response.data.results);\n                      localStorage.setItem(\"mess\", JSON.stringify(response.data.results));\n                      renderLayout(response.data.results);\n                    }\n)\n \n    }catch(error){\n    console.log(error);\n    }\n}\n\n\n// it works\n// export async function getAPIdata(){\n// const options = {\n//   method: 'GET',\n//   headers: {\n//     accept: 'application/json',\n//     Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08',\n//   }\n// };\n\n// fetch(BASE_URL, options)\n//   .then(res => res.json())\n//   .then(res => console.log(res))\n//   .catch(err => console.error(err));\n// }","import { getAPIdata } from './js/api.js';\nimport {  renderLayout } from './js/render.js'\n import {  toCloseModal } from './js/madal.js'\n\n getAPIdata();\n\n\n// console.log(toGetOneId(1061474));\n\nwindow.addEventListener('keydown', closeByEsc);\n\nfunction closeByEsc(evt){\n    if(evt.code === 'Escape'){\n        toCloseModal();\n         \n    }\n   \n}\n\n"],"names":["forModal","toShowModalWin","id","chaos","mess","oneObj","itm","box","cross","toCloseModal","galleryRef","renderLayout","arr","ren","poster_path","idx","modalShow","evt","upperLi","selectIDbyClick","bearer","BASE_URL","getAPIdata","axios","response","error","closeByEsc"],"mappings":"0xBAAA,MAAMA,EAAW,SAAS,cAAc,eAAe,EAEhD,SAASC,EAAeC,EAAG,CAC9B,MAAMC,EAAQ,aAAa,QAAQ,MAAM,EACnCC,EAAO,KAAK,MAAMD,CAAK,EAC7B,QAAQ,IAAIC,CAAI,EAChB,QAAQ,IAAIF,CAAE,EAEd,MAAMG,EAASD,EAAK,KAAME,GAAQA,EAAI,KAAOJ,CAAE,EAC5C,QAAQ,IAAIG,CAAM,EAUpB,MAAME,EAAM;AAAA;AAAA,mBAEEF,EAAO,KAAK;AAAA;AAAA,wDAEyBA,EAAO,WAAW;AAAA;AAAA,kBAGlEL,EAAS,UAAYO,EAErB,MAAMC,EAAQ,SAAS,cAAc,QAAQ,EAC7C,QAAQ,IAAIA,CAAK,EAEjBA,EAAM,iBAAiB,QAAS,IAAI,CAC5BC,EAAY,EACVD,EAAM,oBAAoB,QAAS,IAAI,CAAC,CAAC,CACnD,CAAC,CAGT,CAmBO,SAASC,GAAc,CACtBT,EAAS,UAAW,EAC5B,CCxDA,MAAMU,EAAa,SAAS,cAAc,UAAU,EACpC,SAAS,cAAc,UAAU,EACpC,SAAS,cAAc,MAAM,EAQnC,SAASC,EAAaC,EAAI,CAC7B,MAAMC,EAAMD,EAAI,IAAI,CAAC,CAAC,YAAAE,EAAa,GAAAZ,CAAE,EAAGa,IACjC;AAAA,8BACmBb,CAAE;AAAA,kBACdA,CAAE;AAAA,sDACkCY,CAAW;AAAA;AAAA;AAAA,SAIhE,EAAE,KAAK,EAAE,EAETJ,EAAW,mBAAmB,YAAaG,CAAG,CAE/C,CAEAH,EAAW,iBAAiB,QAASM,CAAS,EAE9C,SAASA,EAAUC,EAAI,CAQpB,MAAMC,EADaD,EAAI,OACI,QAAQ,OAAO,EAEpCE,EAAkB,OAAOD,EAAQ,aAAa,IAAI,CAAC,EACzD,QAAQ,IAAIC,CAAe,EAG3BlB,EAAekB,CAAe,CAwCjC,CC9EA,MAAMC,EAAS,yPACTC,EAAW,iEAMV,eAAeC,GAAY,CAC9B,GAAG,CACC,MAAMC,EAAM,IAAIF,EAAU,CACR,QAAS,CACP,eAAgB,mBAChB,cAAeD,CAC3C,CACA,CAAE,EACiB,KAAKI,GAAY,CAKd,aAAa,QAAQ,OAAQ,KAAK,UAAUA,EAAS,KAAK,OAAO,CAAC,EAClEb,EAAaa,EAAS,KAAK,OAAO,CACpC,CACpB,CAEI,OAAOC,EAAM,CACb,QAAQ,IAAIA,CAAK,CACjB,CACJ,CC7BCH,EAAU,EAKX,OAAO,iBAAiB,UAAWI,CAAU,EAE7C,SAASA,EAAWT,EAAI,CACjBA,EAAI,OAAS,UACZR,EAAY,CAIpB"}