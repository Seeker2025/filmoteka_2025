{"version":3,"file":"index.js","sources":["../src/js/modal_markup.js","../src/js/madal.js","../src/js/render.js","../src/js/pagination.js","../src/js/api.js","../src/js/footer.js","../src/main.js"],"sourcesContent":["export function modal_markup({ \n                                        poster_path,\n                                        title,\n                                        popularity,\n                                        vote_average,\n                                        vote_count,\n                                        overview,\n                                        genre_ids\n }) {\n\n let img_another_path = `<img class=\"img_modal\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\">`  \n                                        if(!poster_path){\n                                                img_another_path = '<img src=\"./img/no_img02.png\" >';\n                                                \n                                        }  \n\n return `<div class=\"backdrop\">\n                <div class = \"modal\">\n                        <div class=\"cross\">\n                        \n                                <svg>\n                                        <use href=\"./img/close.svg\"></use>\n                                </svg>        \n                        \n                        </div>\n\n                                ${img_another_path}\n                        <table>\n                           <caption>${title}</caption>\n                                <tr>\n                                        <td class=\"vote_box table_cell\">\n                                                <span>Vote / Votes</span>\n                                        </td>\n                                      \n                                        <td colspan=\"2\">\n                                                <span class=\"orange\">${vote_average}</span> / ${vote_count}\n                                        </td>\n                                </tr>\n\n                                <tr>\n                                        <td class=\"table_cell\">\n                                                <span>Popularity</span>\n                                        </td>\n\n                                        <td colspan=\"2\">\n                                                ${popularity}\n                                        </td>\n                                       \n                                </tr>\n\n                                <tr>\n                                        <td class=\"table_cell\">\n                                                <span>Original title</span>\n                                        </td>\n\n                                        <td>\n                                                ${title}\n                                        </td>\n\n                                </tr>\n\n                                <tr>\n                                        <td class=\"table_cell\">\n                                                <span>Genre</span>\n                                        </td>\n\n                                        <td>\n                                                ${genre_ids[0], genre_ids[1]}\n                                        </td>\n\n                                </tr>\n\n                                <tr>\n                                        <td colspan = \"2\"></td>\n                                </tr>\n\n                                <tr>\n                                        <td colspan = \"2\">ABOUT</td>\n                                </tr>\n\n                                <tr>\n        <td colspan = \"2\">${overview||'Unfortunately, this film does not have a description yet.'}</td>\n                                </tr>\n\n                                <tr>\n                                        <td colspan = \"2\"></td>\n                                </tr>\n\n                                <tr class=\"row__padding\">\n                                        <td>\n                        <button type=\"button\" class=\"arange_button\">ADD TO WATCHED</button>\n                                        </td>\n\n                                        <td>\n                        <button type=\"button\" class=\"white_button\">ADD TO QUEUE</button>\n                                        </td>\n                                </tr>\n                        \n                        </table>\n                     \n                </div>\n        </div>   \n                `};","import { modal_markup } from './modal_markup.js'\n// export modal_markup;\n// console.log(modal_markup);\n\nconst forModal = document.querySelector('div.for_modal');\n\nexport function toShowModalWin(id){\n    const chaos = localStorage.getItem('mess');\n    const mess = JSON.parse(chaos);\n//     console.log(mess);\n//     console.log(id);\n\n    const oneObj = mess.find((itm) => itm.id === id);\n    console.log(oneObj);\n    \n    // console.log(mess.find(itm => itm.id === id));\n    // mess.find(itm => itm.id === id);\n    // return oneObj;\n//      const{ poster_path, title, popularity, vote_average, vote_count, overview, genre_ids } = oneObj; \n//      const box = `\n//         <div class=\"backdrop\">\n//                 <div class = \"modal\">\n//                         <div class=\"cross\">\n                        \n//                 <svg>\n//                         <use href=\"./img/close.svg\"></use>\n//                 </svg>        \n                        \n//                         </div>\n\n//                         <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" width=\"\" alt=\"\">\n                        \n//                         <table>\n//                                <caption>${title}</caption>\n//                                 <tr>\n//                                         <td class=\"vote_box table_cell\">\n//                                         <span>Vote / Votes</span>\n//                                         </td>\n                                      \n//                                         <td colspan=\"2\">\n//                                         <span class=\"orange\">${vote_average}</span> / ${vote_count}\n//                                         </td>\n\n                                       \n\n                                        \n//                                 </tr>\n\n//                                 <tr>\n//                                         <td class=\"table_cell\">\n//                                         <span>Popularity</span>\n//                                         </td>\n\n//                                         <td colspan=\"2\">\n//                                         ${popularity}\n//                                         </td>\n                                       \n//                                 </tr>\n\n//                                 <tr>\n//                                         <td class=\"table_cell\">\n//                                         <span>Original title</span>\n//                                         </td>\n\n//                                         <td>\n//                                         ${title}\n//                                         </td>\n\n//                                 </tr>\n\n//                                     <tr>\n//                                         <td class=\"table_cell\">\n//                                         <span>Genre</span>\n//                                         </td>\n\n//                                         <td>\n//                                         ${genre_ids[0], genre_ids[1]}\n//                                         </td>\n\n//                                 </tr>\n\n//                                 <tr>\n//                                         <td colspan = \"2\"></td>\n//                                 </tr>\n\n\n//                                 <tr>\n//                                         <td colspan = \"2\">ABOUT</td>\n//                                 </tr>\n\n//                                 <tr>\n//                                         <td colspan = \"2\">${overview}</td>\n//                                 </tr>\n\n//                                 <tr>\n//                                         <td colspan = \"2\"></td>\n//                                 </tr>\n\n//                                  <tr class=\"row__padding\">\n//                                         <td>\n//                                         <button type=\"button\" class=\"arange_button\">ADD TO WATCHED</button>\n//                                         </td>\n//                                         <td>\n//                                         <button type=\"button\" class=\"white_button\">ADD TO QUEUE</button>\n//                                         </td>\n//                                 </tr>\n                        \n//                         </table>\n                     \n//                 </div>\n//         </div>   \n//                 `\n        forModal.innerHTML = modal_markup(oneObj);\n\n        const orangeBtnAddToWatch = document.querySelector('button.arange_button');\n        const whiteBtnAddToQueue = document.querySelector('button.white_button');\n        // console.log(orangeBtnAddToWatch);\n        orangeBtnAddToWatch.addEventListener('click', (evt)=>{\n                console.log('orange!');\n                evt.stopPropagation();\n        })\n\n        whiteBtnAddToQueue.addEventListener('click', (evt)=>{\n                console.log('white');\n                evt.stopPropagation();\n        })\n\n\n        const cross = document.querySelector('div.cross');\n        // const modalRef = document.querySelector('div.modal');\n        // console.log(cross);\n        // console.log(modalRef);\n        // console.log(modalRef);\n        // modalRef.addEventListener('click', (evt)=>{\n                //  console.log(evt.target);\n                // }\n                // window.addEventListener('click', (evt)=>{\n                // if(evt.target === modalRef){\n                //         console.log('Whoa!');\n                //         toCloseModal();\n                // }\n        // })\n        const backdrop = document.querySelector('.backdrop');\n        backdrop.addEventListener('click', (evt)=>{\n                \n                console.log(evt.target);\n                if(evt.target === backdrop){\n                        console.log('whoa!');\n                        toCloseModal();\n                }\n        });\n\n        cross.addEventListener('click', ()=>{\n                        toCloseModal();\n                  cross.removeEventListener('click', ()=>{});\n                  window.removeEventListener('keydown', ()=>{});\n                  orangeBtnAddToWatch.removeEventListener('click', ()=>{});\n                  whiteBtnAddToQueue.removeEventListener('click', ()=>{});\n        })\n}\n// const oneObj = mess.find(itm => itm.id === id);\n//     console.log(oneObj);\n// export const oneObj =  toGetOneId(1078605)\n\n// export function toShowModalWin(oneObj){\n//     const box = `\n//         <div class = \"modal\">\n//             <h1>Hi!</h1>\n//             <img src=\"https://image.tmdb.org/t/p/w500${oneObj.poster_path}\" width=\"200\" alt=\"\">\n//         </div>\n//     `\n//     forModal.insertAdjacentHTML('beforeend', box);\n// }\n\nexport function toCloseModal(){\n        forModal.innerHTML ='';\n}\n\n","import { \n        toShowModalWin,\n        toCloseModal\n }                              from './madal.js';\n\nconst galleryRef = document.querySelector('.gallery');\nconst section = document.querySelector('.section');\nconst body = document.querySelector('body');\n\nexport function renderLayout(arr){\n    const ren = arr.map(({poster_path, id, title}, idx) =>{\n    let img_main_path = `<img class=\"img_of_card\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" width=\"\" alt=\"${title}\">`    \n    if(!poster_path){\n        img_main_path = `<img class=\"img_of_card\" src=\"./img/no_img02.png\" width=\"\" alt=\"No image\">`\n    }\n                                                    return `\n                                                        <li class=\"card\" id=${id}>\n                                                            ${img_main_path}\n                                                            <h1 class=\"card_title\">${title}</h1>\n                                                        </li>                                              \n                                                        `\n}).join('');\n\n galleryRef.innerHTML = ren;\n}\n\n galleryRef.addEventListener('click', modalShow);\n                                                    function modalShow(evt){\n                                                        window.addEventListener('keydown', (evt)=>{\n                                                        if(evt.code === 'Escape'){\n                                                        toCloseModal();\n                                                        }\n                                                    });\n   const nestedElem = evt.target;\n   const upperLi = nestedElem.closest('.card');\n   console.log(upperLi);\n   const selectIDbyClick = Number(upperLi.getAttribute('id'));\n   toShowModalWin(selectIDbyClick);\n}\n\n  \n\n","export const container = document.querySelector('.tui-pagination');\nexport const options = {\n    totalItems: 20,\n     itemsPerPage: 10,\n     visiblePages: 5,\n    page: 1,\n     centerAlign: false,\n     firstItemClassName: 'tui-first-child',\n     lastItemClassName: 'tui-last-child',\n     template: {\n         page: '<a href=\"#\" class=\"buttons_other tui-page-btn\">{{page}}</a>',\n         currentPage: '<strong class=\"button_orange tui-page-btn tui-is-selected\">{{page}}</strong>',\n         moveButton:\n             '<a href=\"#\" class=\"arrow tui-page-btn tui-{{type}}\">' +\n                 '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n             '</a>',\n         disabledMoveButton:\n             '<span class=\"arrow tui-page-btn tui-is-disabled tui-{{type}}\">' +\n                 '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n             '</span>',\n         moreButton:\n             '<a href=\"#\" class=\"dots tui-page-btn tui-{{type}}-is-ellip\">' +\n                 '<span class=\"tui-ico-ellip\">. . .</span>' +\n             '</a>'\n     }\n    };","\nimport    axios                 from 'axios';\nimport {  renderLayout }        from './render';\nimport    Pagination            from  'tui-pagination'; \nimport {  options,\n          container\n }                              from './pagination.js';\n\n\nconst bearer = 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08';\n\nconst title = 'Pulp fiction';\nconst title02 = 'Batman';\nconst BASE_mov=`https://api.themoviedb.org/3/search/movie?query=${title}&include_adult=false&language=en-US&page=1`;\nconst BASE_mov02 = 'https://api.themoviedb.org/3/search/movie';\nexport const BASE_URL = 'https://api.themoviedb.org/3/';\nexport const trending = 'trending/movie/day';\nexport const search = 'search/movie'\n\nexport async function getAPIdata(main, part,  whatLookingFor, onePage = 1){\n    try{\n        await axios.get( `${main}${part}`, {\n                          headers: {\n                            'Content-Type': 'application/json',\n                            Authorization: bearer,\n                            },\n                             params: {\n                             query: whatLookingFor,\n                             include_adult: false,\n                             page: onePage,\n                            }\n })\n                  .then(response => {\n        localStorage.setItem(\"mess\", JSON.stringify(response.data.results));\n        renderLayout(response.data.results);\n\n                                // console.log(response.data);\n                                const { results, total_results, total_pages }=response.data;\n                                // console.log(results, total_results, total_pages);\n                                let totalPages = total_pages;\n    if (onePage < totalPages) {\n        options.totalItems = totalPages;\n        options.page = onePage;\n        const pagination = new Pagination(container, options);\n        pagination.on('afterMove', function (event) {\n        onePage = event.page;\n        getAPIdata(main, part,  whatLookingFor, onePage);\n    });\n    }\n        }\n)\n \n    }catch(error){\n    console.log(error);\n    }\n}\n","const iconJS = document.querySelector('svg.icon_js')\n\n                export function footerScaleJS(){\n                setInterval(()=>{\n                iconJS.classList.toggle('icon_scale');\n                }, 800);\n                }","// import { modal_markup } from './js/modal_markup';\n// const isObj = {\n//     poster_path:1,\n//     title:1,\n//     popularity:1,\n//     vote_average:1,\n//     vote_count:1,\n//     overview:1,\n//     genre_ids:1,\n// };\n// console.log(modal_markup(isObj));\n\n\n\n\n\nimport { \n            getAPIdata,\n            trending,\n            BASE_URL,\n            search\n }                          from './js/api';\nimport { footerScaleJS }    from './js/footer';\n\ngetAPIdata( BASE_URL, trending);\nfooterScaleJS();\n\n                            const form = document.querySelector('.js_form');\n                            form.addEventListener('submit', (evt)=>{\n                            evt.preventDefault();\n                            const movie = evt.currentTarget.elements.search.value\n                            getAPIdata( BASE_URL, search, movie);\n                            })\n\n\n"],"names":["modal_markup","poster_path","title","popularity","vote_average","vote_count","overview","genre_ids","img_another_path","forModal","toShowModalWin","id","chaos","oneObj","itm","orangeBtnAddToWatch","whiteBtnAddToQueue","evt","cross","backdrop","toCloseModal","galleryRef","renderLayout","arr","ren","idx","img_main_path","modalShow","upperLi","selectIDbyClick","container","options","bearer","BASE_URL","trending","search","getAPIdata","main","part","whatLookingFor","onePage","axios","response","results","total_results","total_pages","totalPages","Pagination","event","error","iconJS","footerScaleJS","form","movie"],"mappings":"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"}