{"version":3,"file":"index.js","sources":["../src/js/loader.js","../src/js/api.js","../src/js/switch.js","../src/index.js"],"sourcesContent":["const loader = document.querySelector('.box');\n\nexport function showLoader(){\n   loader.style.visibility = 'visible';\n}\n\nexport function hideLoader(){\n   loader.style.visibility = 'hidden';\n}"," \nimport    axios                 from 'axios';\nimport {  renderLayout  }       from './render';\nimport    Pagination            from  'tui-pagination'; \nimport {  options,\n          container\n }                              from './pagination.js';\nimport { hideLoader }           from './loader.js';\n// import { bigModal } from './toShowModalWin.js';\nimport { toForFind } from './toForFind.js'\nimport {  toChangeTxtOnBtn } from './toChangeText.js';\n\n// import { ToRender } from './class.js';\nimport  noImg  from '../img/no_img02.png';\n// import { toShowModalWin } from './madal.js';\nimport { modalMarkup, toForButtonCross } from './modal_markup.js';\nimport { toWatch, toQueue } from './toFun.js';\n\nconst KEY = 'mess';\n\n const forModal = document.querySelector('.for_modal');\n const galleryRef = document.querySelector('.gallery');\n console.log(galleryRef);\n console.log(forModal);\n console.log(renderLayout);\n\n\nconst bearer = 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08';\n\nexport const BASE_URL = 'https://api.themoviedb.org/3/';\nexport const trending = 'trending/movie/day';\nexport const search   = 'search/movie';\n\nexport async function getAPIdata(main, part,  whatLookingFor, onePage = 1){\n    try{\n        await axios.get( `${main}${part}`, {\n                          headers: {\n                            'Content-Type': 'application/json',\n                            Authorization: bearer,\n                            },\n                             params: {\n                             query: whatLookingFor,\n                             include_adult: false,\n                             page: onePage,\n                            \n                            }\n })\n                  .then(response => {\n        localStorage.setItem(KEY, JSON.stringify(response.data.results));\n        \n                                if(response.data) hideLoader();\n                                console.log(response.data.results);\n        renderLayout(response.data.results, galleryRef);\n        // renderLayout(0, galleryRef);\n        galleryRef.addEventListener('click', (evt)=>{\n            if(evt.target.closest('.card_js')){\n               \n                const oneObj = toForFind(evt.target, KEY);\n                modalMarkup(oneObj, forModal);\n        const btnAddToWatch = document.querySelector('button.arange_button');     \n        const btnAddToQueue = document.querySelector('button.white_button'); \n\n        toChangeTxtOnBtn(\n            btnAddToWatch,\n            oneObj,\n            'watched',\n            'REMOVE FROM WATCHED',\n            'ADD TO WATCHED'\n        ); \n\n        toChangeTxtOnBtn(\n            btnAddToQueue,\n            oneObj,\n            'queued',\n            'REMOVE FROM QUEUE',\n            'ADD TO QUEUE'\n        );      \n\n        btnAddToWatch.addEventListener('click', (evt)=>{\n                                toWatch(oneObj);\n        toChangeTxtOnBtn(\n            btnAddToWatch,\n            oneObj,\n            'watched',\n            'REMOVE FROM WATCHED',\n            'ADD TO WATCHED'\n        ); \n\n                                 evt.stopPropagation();\n                                 });\n        \n        btnAddToQueue.addEventListener('click', (evt)=>{\n                                toQueue(oneObj);\n        toChangeTxtOnBtn(\n            btnAddToQueue,\n            oneObj,\n            'queued',\n            'REMOVE FROM QUEUE',\n            'ADD TO QUEUE'\n        );                               \n                                 evt.stopPropagation();\n                                 });\n                toForButtonCross(forModal, btnAddToWatch, btnAddToQueue);\n\n            }\n        })\n       \n                        const { results, total_results, total_pages }=response.data;\n                        let totalPages = total_pages;\n    if (onePage < totalPages) {\n        options.totalItems = totalPages;\n        options.page = onePage;\n        const pagination = new Pagination(container, options);\n        pagination.on('afterMove', function (event) {\n        onePage = event.page;\n        getAPIdata(main, part,  whatLookingFor, onePage);\n    });\n    }\n        }\n)\n \n    }catch(error){\n    console.log(error);\n    }\n}\n","console.log('switch');\n\n\n// const switchInp = document.querySelector('input.switch');\n// console.log(switchInp);\n\n// switchInp.addEventListener('change', (evt)=>{\n//     console.log(evt.target.checked);\n    \n\n// })\n\nconst bodyIndex = document.querySelector('body#index');\nconsole.log(bodyIndex);\nconst containerHead = document.querySelector('.container_head');\nconsole.log(containerHead);\n\n\n \n\nexport function toSwitchToDarkUI(mening){\n    \n        bodyIndex.classList.toggle('light');\n        containerHead.classList.toggle('con_light');\n\n    \n    \n    \n}","import { \n            getAPIdata,\n            trending,\n            BASE_URL,\n            search\n }                          from './js/api';\nimport { footerScaleJS }    from './js/footer';\nimport { showLoader }       from './js/loader';\nimport { toSwitchToDarkUI } from './js/switch';\n// console.log(toSwitchToDarkUI);\n\n\n// import { galleryRef } from './js/render';\n// console.log(galleryRef);\n\n\n// showLoader();\ngetAPIdata( BASE_URL, trending);\n// footerScaleJS();\n\n                            const form = document.querySelector('.js_form');\n                            form.addEventListener('submit', (evt)=>{\n                            evt.preventDefault();\n                            const movie = evt.currentTarget.elements.search.value;\n                            showLoader();\n                            getAPIdata( BASE_URL, search, movie);\n                            form.reset();\n                            });\n\n\n\nconst switchInp = document.querySelector('input.switch');\n    console.log(switchInp); \n    \nswitchInp.addEventListener('change', (evt)=>{\n    toSwitchToDarkUI(evt.target.checked);\n\n})    \n\n\n"],"names":["loader","showLoader","hideLoader","KEY","forModal","galleryRef","renderLayout","bearer","BASE_URL","trending","search","getAPIdata","main","part","whatLookingFor","onePage","axios","response","evt","oneObj","toForFind","modalMarkup","btnAddToWatch","btnAddToQueue","toChangeTxtOnBtn","toWatch","toQueue","toForButtonCross","results","total_results","total_pages","totalPages","options","Pagination","container","event","error","bodyIndex","containerHead","toSwitchToDarkUI","mening","form","movie","switchInp"],"mappings":"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"}